
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Document</title>
</head>
<body>
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h2><a id="OD_1"></a>最新华为OD机试</h2> 
<p><font color="RED">真题目录：<a href="https://blog.csdn.net/banxia_frontend/article/details/129640773">点击查看目录</a> </font><br> <font color="RED"> 华为OD面试真题精选：<a href="https://blog.csdn.net/banxia_frontend/category_12436481.html">点击立即查看</a></font></p> 
<h2><a id="_6"></a>题目描述</h2> 
<p>游乐场里增加了一批摇摇车，非常受小朋友欢迎，但是每辆摇摇车同时只能有一个小朋友使用，如果没有空余的摇摇车需要排队等候，或者直接离开，最后没有玩上的小朋友会非常不开心。<br> 请根据今天小朋友的来去情况，统计不开心的小朋友数量</p> 
<ol><li>摇摇车数量为N，范围是: 1 &lt;= N &lt; 10;</li><li>每个小朋友都对应一个编码，编码是不重复的数字，今天小朋友的来去情况，可以使用编码表示为:1 1 2 3 2 3。(若小朋友离去之前有空闲的摇摇车，则代表玩耍后离开;不考虑小朋友多次玩的情况)。小朋友数量≤ 100</li><li>题目保证所有输入数据无异常且范围满足上述说明</li></ol> 
<h2><a id="_15"></a>输入描述</h2> 
<p>第一行: 摇摇车数量</p> 
<p>第二行: 小朋友来去情况</p> 
<h2><a id="_21"></a>输出描述</h2> 
<p>返回不开心的小朋友数量</p> 
<h2><a id="1_25"></a>示例1</h2> 
<p>输入</p> 
<pre><code>1  
1 2 1 2  
</code></pre> 
<p>输出</p> 
<pre><code>0 
</code></pre> 
<p>说明</p> 
<blockquote> 
 <p>第一行，1个摇摇车第二行，1号来 2号来(排队) 1号走 2号走(1号走后摇摇车已有空闲，所以玩后离开)</p> 
</blockquote> 
<h2><a id="2_43"></a>示例2</h2> 
<p>输入</p> 
<pre><code> 1
 1 2 2 3 1 3  
</code></pre> 
<p>输出</p> 
<pre><code> 1
</code></pre> 
<p>说明</p> 
<blockquote> 
 <p>第一行，1个摇摇车第二行，1号来 2号来(排队) 2号走(不开心离开) 3号来(排队)1号走 3号走(1号走后摇摇车已有空闲，所以玩后离)</p> 
</blockquote> 
<h2><a id="_57"></a>解题思路</h2> 
<p>题目要求计算在游乐场排队等候摇摇车的小朋友中，最终没有玩上摇摇车、感到“不开心”的小朋友数量。</p> 
<h4><a id="_62"></a>解题思路</h4> 
<ol><li> <p><strong>摇摇车数量</strong>：</p> 
  <ul><li>第一行输入是摇摇车的数量 <code>N</code>，代表同时可以被 <code>N</code> 个小朋友使用。</li></ul> </li><li> <p><strong>小朋友的来去情况</strong>：</p> 
  <ul><li>第二行是小朋友的来去编码。相同编码出现两次表示该小朋友先到达游乐场，再离开游乐场。</li><li>小朋友到达时： 
    <ul><li>若有空余的摇摇车，则该小朋友直接使用摇摇车。</li><li>若摇摇车已满，则该小朋友需要排队等候。</li></ul> </li><li>小朋友离开时： 
    <ul><li>如果小朋友排在队列中但未能玩上摇摇车，则该小朋友直接离开，记为“不开心”。</li><li>如果小朋友在使用摇摇车，则该小朋友直接释放摇摇车，且此时若有排队小朋友，则队首小朋友开始使用摇摇车。</li></ul> </li></ul> </li><li> <p><strong>不开心小朋友数量统计</strong>：</p> 
  <ul><li>若一个小朋友排队后没有等到空闲摇摇车就离开，那么统计为不开心小朋友。</li></ul> </li></ol> 
<h4><a id="_81"></a>示例分析</h4> 
<ul><li> <p><strong>示例 1</strong><br> 输入：</p> <pre><code>1  
1 2 1 2  
</code></pre> <p>输出：</p> <pre><code>0  
</code></pre> <p>说明：摇摇车数量为 1。</p> 
  <ul><li><code>1</code>号到达，有空余摇摇车，直接上车。</li><li><code>2</code>号到达，摇摇车已满，进入排队。</li><li><code>1</code>号离开，<code>2</code>号可以上车。</li><li><code>2</code>号离开时已玩上摇摇车，没有不开心的小朋友。</li></ul> </li><li> <p><strong>示例 2</strong><br> 输入：</p> <pre><code>1  
1 2 2 3 1 3  
</code></pre> <p>输出：</p> <pre><code>1  
</code></pre> <p>说明：摇摇车数量为 1。</p> 
  <ul><li><code>1</code>号到达，有空余摇摇车，直接上车。</li><li><code>2</code>号到达，摇摇车已满，进入排队。</li><li><code>2</code>号离开，未能玩上摇摇车，记为不开心。</li><li><code>3</code>号到达，摇摇车已满，进入排队。</li><li><code>1</code>号离开，<code>3</code>号可以上车。</li><li><code>3</code>号离开时已玩上摇摇车，最终有 1 名不开心的小朋友。</li></ul> <h4><a id="_117"></a>具体步骤</h4> 
  <ul><li>初始化 <code>N</code> 个摇摇车的状态、一个用于排队的小朋友队列、和一个计数器来统计不开心的小朋友数量。</li><li>遍历第二行的编码： 
    <ul><li><strong>若小朋友是到达</strong>： 
      <ul><li>检查当前是否有空闲摇摇车： 
        <ul><li>若有空闲，则分配摇摇车。</li><li>若没有空闲，则加入排队队列。</li></ul> </li></ul> </li><li><strong>若小朋友是离开</strong>： 
      <ul><li>若在排队队列中，但尚未玩上，则从排队队列移除并将该小朋友计为不开心。</li><li>若小朋友正在使用摇摇车，则释放摇摇车，并检查排队队列是否有小朋友等待，若有则让队首小朋友上车。</li></ul> </li></ul> </li></ul> </li></ul> 
<h2><a id="Java_130"></a>Java</h2> 
<pre><code class="prism language-java"><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token operator">*</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Main</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">Scanner</span> scanner <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Scanner</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span>in<span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token keyword">int</span> rideCount <span class="token operator">=</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">parseInt</span><span class="token punctuation">(</span>scanner<span class="token punctuation">.</span><span class="token function">nextLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 摇摇车数量</span>
        <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> events <span class="token operator">=</span> scanner<span class="token punctuation">.</span><span class="token function">nextLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">" "</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 小朋友的来去事件</span>
        
        <span class="token keyword">int</span> unhappyCount <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment">// 不开心的小朋友计数</span>
        <span class="token class-name">HashSet</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> onRide <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashSet</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 正在使用摇摇车的小朋友</span>
        <span class="token class-name">Queue</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> queue <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">LinkedList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 等待的小朋友队列</span>

        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">String</span> kid <span class="token operator">:</span> events<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>onRide<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span>kid<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                <span class="token comment">// 小朋友离开摇摇车</span>
                onRide<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>kid<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token comment">// 若有等待队列，则让队首小朋友上车</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>queue<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                    onRide<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>queue<span class="token punctuation">.</span><span class="token function">poll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
                <span class="token comment">// 小朋友到达</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>onRide<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span> rideCount<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                    <span class="token comment">// 有空闲摇摇车</span>
                    onRide<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>kid<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
                    <span class="token comment">// 没有空闲摇摇车，检查是否已经排队</span>
                    <span class="token keyword">if</span> <span class="token punctuation">(</span>queue<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span>kid<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                        <span class="token comment">// 排队中离开，记为不开心</span>
                        unhappyCount<span class="token operator">++</span><span class="token punctuation">;</span>
                        queue<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>kid<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 离开队列</span>
                    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
                        <span class="token comment">// 加入排队队列</span>
                        queue<span class="token punctuation">.</span><span class="token function">offer</span><span class="token punctuation">(</span>kid<span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>

        <span class="token comment">// 输出不开心的小朋友数量</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>unhappyCount<span class="token punctuation">)</span><span class="token punctuation">;</span>
        scanner<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> 
<h2><a id="Python_181"></a>Python</h2> 
<pre><code class="prism language-python"><span class="token keyword">from</span> collections <span class="token keyword">import</span> deque

<span class="token comment"># 读取输入</span>
ride_count <span class="token operator">=</span> <span class="token builtin">int</span><span class="token punctuation">(</span><span class="token builtin">input</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>strip<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># 摇摇车数量</span>
events <span class="token operator">=</span> <span class="token builtin">input</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>strip<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># 小朋友的来去事件</span>

unhappy_count <span class="token operator">=</span> <span class="token number">0</span>  <span class="token comment"># 不开心的小朋友计数</span>
on_ride <span class="token operator">=</span> <span class="token builtin">set</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># 正在使用摇摇车的小朋友</span>
queue <span class="token operator">=</span> deque<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># 等待的小朋友队列</span>

<span class="token keyword">for</span> kid <span class="token keyword">in</span> events<span class="token punctuation">:</span>
    <span class="token keyword">if</span> kid <span class="token keyword">in</span> on_ride<span class="token punctuation">:</span>
        <span class="token comment"># 小朋友离开摇摇车</span>
        on_ride<span class="token punctuation">.</span>remove<span class="token punctuation">(</span>kid<span class="token punctuation">)</span>
        <span class="token comment"># 若有等待队列，则让队首小朋友上车</span>
        <span class="token keyword">if</span> queue<span class="token punctuation">:</span>
            on_ride<span class="token punctuation">.</span>add<span class="token punctuation">(</span>queue<span class="token punctuation">.</span>popleft<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token keyword">else</span><span class="token punctuation">:</span>
        <span class="token comment"># 小朋友到达</span>
        <span class="token keyword">if</span> <span class="token builtin">len</span><span class="token punctuation">(</span>on_ride<span class="token punctuation">)</span> <span class="token operator">&lt;</span> ride_count<span class="token punctuation">:</span>
            <span class="token comment"># 有空闲摇摇车</span>
            on_ride<span class="token punctuation">.</span>add<span class="token punctuation">(</span>kid<span class="token punctuation">)</span>
        <span class="token keyword">else</span><span class="token punctuation">:</span>
            <span class="token comment"># 没有空闲摇摇车，检查是否已经排队</span>
            <span class="token keyword">if</span> kid <span class="token keyword">in</span> queue<span class="token punctuation">:</span>
                <span class="token comment"># 排队中离开，记为不开心</span>
                unhappy_count <span class="token operator">+=</span> <span class="token number">1</span>
                queue<span class="token punctuation">.</span>remove<span class="token punctuation">(</span>kid<span class="token punctuation">)</span>  <span class="token comment"># 离开队列</span>
            <span class="token keyword">else</span><span class="token punctuation">:</span>
                <span class="token comment"># 加入排队队列</span>
                queue<span class="token punctuation">.</span>append<span class="token punctuation">(</span>kid<span class="token punctuation">)</span>

<span class="token comment"># 输出不开心的小朋友数量</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>unhappy_count<span class="token punctuation">)</span>

</code></pre> 
<h2><a id="JavaScript_220"></a>JavaScript</h2> 
<pre><code class="prism language-js"><span class="token keyword">const</span> readline <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'readline'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> rl <span class="token operator">=</span> readline<span class="token punctuation">.</span><span class="token function">createInterface</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
    input<span class="token operator">:</span> process<span class="token punctuation">.</span>stdin<span class="token punctuation">,</span>
    output<span class="token operator">:</span> process<span class="token punctuation">.</span>stdout
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> inputLines <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
rl<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'line'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">line</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
    inputLines<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>line<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'close'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">// 获取摇摇车数量</span>
    <span class="token keyword">const</span> rideCount <span class="token operator">=</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>inputLines<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 获取小朋友的来去事件</span>
    <span class="token keyword">const</span> events <span class="token operator">=</span> inputLines<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">" "</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">let</span> unhappyCount <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment">// 不开心的小朋友计数</span>
    <span class="token keyword">const</span> onRide <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 正在使用摇摇车的小朋友</span>
    <span class="token keyword">const</span> queue <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// 等待的小朋友队列</span>

    events<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">kid</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>onRide<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span>kid<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token comment">// 小朋友离开摇摇车</span>
            onRide<span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span>kid<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">// 若有等待队列，则让队首小朋友上车</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>queue<span class="token punctuation">.</span>length <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                onRide<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>queue<span class="token punctuation">.</span><span class="token function">shift</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
            <span class="token comment">// 小朋友到达</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>onRide<span class="token punctuation">.</span>size <span class="token operator">&lt;</span> rideCount<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                <span class="token comment">// 有空闲摇摇车</span>
                onRide<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>kid<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
                <span class="token comment">// 没有空闲摇摇车，检查是否已经排队</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>queue<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span>kid<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                    <span class="token comment">// 排队中离开，记为不开心</span>
                    unhappyCount<span class="token operator">++</span><span class="token punctuation">;</span>
                    queue<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span>queue<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span>kid<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 离开队列</span>
                <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
                    <span class="token comment">// 加入排队队列</span>
                    queue<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>kid<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 输出不开心的小朋友数量</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>unhappyCount<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre> 
<h2><a id="C_276"></a>C++</h2> 
<pre><code class="prism language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;unordered_set&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;queue&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;vector&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;string&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;sstream&gt;</span></span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">int</span> rideCount<span class="token punctuation">;</span> <span class="token comment">// 摇摇车数量</span>
    std<span class="token operator">::</span>cin <span class="token operator">&gt;&gt;</span> rideCount<span class="token punctuation">;</span>
    std<span class="token operator">::</span>cin<span class="token punctuation">.</span><span class="token function">ignore</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 忽略换行符</span>

    std<span class="token operator">::</span>string line<span class="token punctuation">;</span>
    std<span class="token operator">::</span><span class="token function">getline</span><span class="token punctuation">(</span>std<span class="token operator">::</span>cin<span class="token punctuation">,</span> line<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 小朋友的来去事件</span>
    std<span class="token operator">::</span>istringstream <span class="token function">iss</span><span class="token punctuation">(</span>line<span class="token punctuation">)</span><span class="token punctuation">;</span>
    std<span class="token operator">::</span>vector<span class="token operator">&lt;</span>std<span class="token operator">::</span>string<span class="token operator">&gt;</span> events<span class="token punctuation">;</span>
    std<span class="token operator">::</span>string kid<span class="token punctuation">;</span>
    
    <span class="token comment">// 读取事件序列</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>iss <span class="token operator">&gt;&gt;</span> kid<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        events<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>kid<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">int</span> unhappyCount <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment">// 不开心的小朋友计数</span>
    std<span class="token operator">::</span>unordered_set<span class="token operator">&lt;</span>std<span class="token operator">::</span>string<span class="token operator">&gt;</span> onRide<span class="token punctuation">;</span> <span class="token comment">// 正在使用摇摇车的小朋友</span>
    std<span class="token operator">::</span>queue<span class="token operator">&lt;</span>std<span class="token operator">::</span>string<span class="token operator">&gt;</span> queue<span class="token punctuation">;</span> <span class="token comment">// 等待的小朋友队列</span>

    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">auto</span><span class="token operator">&amp;</span> kid <span class="token operator">:</span> events<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>onRide<span class="token punctuation">.</span><span class="token function">count</span><span class="token punctuation">(</span>kid<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token comment">// 小朋友离开摇摇车</span>
            onRide<span class="token punctuation">.</span><span class="token function">erase</span><span class="token punctuation">(</span>kid<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">// 若有等待队列，则让队首小朋友上车</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>queue<span class="token punctuation">.</span><span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                onRide<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span>queue<span class="token punctuation">.</span><span class="token function">front</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                queue<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
            <span class="token comment">// 小朋友到达</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>onRide<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span> rideCount<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                <span class="token comment">// 有空闲摇摇车</span>
                onRide<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span>kid<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
                <span class="token comment">// 没有空闲摇摇车，检查是否已经排队</span>
                bool inQueue <span class="token operator">=</span> false<span class="token punctuation">;</span>
                std<span class="token operator">::</span>queue<span class="token operator">&lt;</span>std<span class="token operator">::</span>string<span class="token operator">&gt;</span> tempQueue <span class="token operator">=</span> queue<span class="token punctuation">;</span>
                <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">!</span>tempQueue<span class="token punctuation">.</span><span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                    <span class="token keyword">if</span> <span class="token punctuation">(</span>tempQueue<span class="token punctuation">.</span><span class="token function">front</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> kid<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                        inQueue <span class="token operator">=</span> true<span class="token punctuation">;</span>
                        <span class="token keyword">break</span><span class="token punctuation">;</span>
                    <span class="token punctuation">}</span>
                    tempQueue<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
                
                <span class="token keyword">if</span> <span class="token punctuation">(</span>inQueue<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                    <span class="token comment">// 排队中离开，记为不开心</span>
                    unhappyCount<span class="token operator">++</span><span class="token punctuation">;</span>
                    <span class="token comment">// 移除队列中的该小朋友</span>
                    std<span class="token operator">::</span>queue<span class="token operator">&lt;</span>std<span class="token operator">::</span>string<span class="token operator">&gt;</span> newQueue<span class="token punctuation">;</span>
                    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">!</span>queue<span class="token punctuation">.</span><span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                        <span class="token keyword">if</span> <span class="token punctuation">(</span>queue<span class="token punctuation">.</span><span class="token function">front</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">!=</span> kid<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                            newQueue<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>queue<span class="token punctuation">.</span><span class="token function">front</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                        <span class="token punctuation">}</span>
                        queue<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token punctuation">}</span>
                    queue <span class="token operator">=</span> newQueue<span class="token punctuation">;</span>
                <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
                    <span class="token comment">// 加入排队队列</span>
                    queue<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>kid<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 输出不开心的小朋友数量</span>
    std<span class="token operator">::</span>cout <span class="token operator">&lt;&lt;</span> unhappyCount <span class="token operator">&lt;&lt;</span> std<span class="token operator">::</span>endl<span class="token punctuation">;</span>

    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre> 
<h2><a id="C_360"></a>C语言</h2> 
<pre><code class="prism language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;string.h&gt;</span></span>

<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">MAX_KIDS</span> <span class="token expression"><span class="token number">1000</span>  </span><span class="token comment">// 最大小朋友数量</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">MAX_NAME_LENGTH</span> <span class="token expression"><span class="token number">20</span> </span><span class="token comment">// 小朋友名字的最大长度</span></span>

<span class="token comment">// 判断一个小朋友是否在 onRide 数组中</span>
<span class="token keyword">int</span> <span class="token function">isInOnRide</span><span class="token punctuation">(</span><span class="token keyword">char</span> onRide<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span>MAX_NAME_LENGTH<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">int</span> onRideCount<span class="token punctuation">,</span> <span class="token keyword">char</span> <span class="token operator">*</span>kid<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> onRideCount<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">strcmp</span><span class="token punctuation">(</span>onRide<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> kid<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">// 找到该小朋友</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment">// 未找到</span>
<span class="token punctuation">}</span>

<span class="token comment">// 从 onRide 数组中移除小朋友</span>
<span class="token keyword">void</span> <span class="token function">removeFromOnRide</span><span class="token punctuation">(</span><span class="token keyword">char</span> onRide<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span>MAX_NAME_LENGTH<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">int</span> <span class="token operator">*</span>onRideCount<span class="token punctuation">,</span> <span class="token keyword">char</span> <span class="token operator">*</span>kid<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token operator">*</span>onRideCount<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">strcmp</span><span class="token punctuation">(</span>onRide<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> kid<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token comment">// 将最后一个元素移到当前位置，减少数组大小</span>
            <span class="token function">strcpy</span><span class="token punctuation">(</span>onRide<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> onRide<span class="token punctuation">[</span><span class="token operator">*</span>onRideCount <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">(</span><span class="token operator">*</span>onRideCount<span class="token punctuation">)</span><span class="token operator">--</span><span class="token punctuation">;</span>
            <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// 判断一个小朋友是否在 queue 数组中</span>
<span class="token keyword">int</span> <span class="token function">isInQueue</span><span class="token punctuation">(</span><span class="token keyword">char</span> queue<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span>MAX_NAME_LENGTH<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">int</span> queueCount<span class="token punctuation">,</span> <span class="token keyword">char</span> <span class="token operator">*</span>kid<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> queueCount<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">strcmp</span><span class="token punctuation">(</span>queue<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> kid<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">// 找到该小朋友</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment">// 未找到</span>
<span class="token punctuation">}</span>

<span class="token comment">// 从 queue 数组中移除小朋友</span>
<span class="token keyword">void</span> <span class="token function">removeFromQueue</span><span class="token punctuation">(</span><span class="token keyword">char</span> queue<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span>MAX_NAME_LENGTH<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">int</span> <span class="token operator">*</span>queueCount<span class="token punctuation">,</span> <span class="token keyword">char</span> <span class="token operator">*</span>kid<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token operator">*</span>queueCount<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">strcmp</span><span class="token punctuation">(</span>queue<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> kid<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token comment">// 将后面的元素往前移</span>
            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> i<span class="token punctuation">;</span> j <span class="token operator">&lt;</span> <span class="token operator">*</span>queueCount <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                <span class="token function">strcpy</span><span class="token punctuation">(</span>queue<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">,</span> queue<span class="token punctuation">[</span>j <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token punctuation">(</span><span class="token operator">*</span>queueCount<span class="token punctuation">)</span><span class="token operator">--</span><span class="token punctuation">;</span>
            <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// 主函数</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">int</span> rideCount<span class="token punctuation">;</span> <span class="token comment">// 摇摇车数量</span>
    <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>rideCount<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">getchar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 读取换行符</span>

    <span class="token keyword">char</span> line<span class="token punctuation">[</span>MAX_KIDS <span class="token operator">*</span> MAX_NAME_LENGTH<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token function">fgets</span><span class="token punctuation">(</span>line<span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>line<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token constant">stdin</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 读取事件输入行</span>

    <span class="token comment">// 将事件分割成数组</span>
    <span class="token keyword">char</span> events<span class="token punctuation">[</span>MAX_KIDS<span class="token punctuation">]</span><span class="token punctuation">[</span>MAX_NAME_LENGTH<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> eventCount <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">char</span> <span class="token operator">*</span>token <span class="token operator">=</span> <span class="token function">strtok</span><span class="token punctuation">(</span>line<span class="token punctuation">,</span> <span class="token string">" "</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>token <span class="token operator">!=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token function">strcpy</span><span class="token punctuation">(</span>events<span class="token punctuation">[</span>eventCount<span class="token operator">++</span><span class="token punctuation">]</span><span class="token punctuation">,</span> token<span class="token punctuation">)</span><span class="token punctuation">;</span>
        token <span class="token operator">=</span> <span class="token function">strtok</span><span class="token punctuation">(</span><span class="token constant">NULL</span><span class="token punctuation">,</span> <span class="token string">" "</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">int</span> unhappyCount <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment">// 不开心的小朋友计数</span>
    <span class="token keyword">char</span> onRide<span class="token punctuation">[</span>MAX_KIDS<span class="token punctuation">]</span><span class="token punctuation">[</span>MAX_NAME_LENGTH<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// 正在使用摇摇车的小朋友</span>
    <span class="token keyword">int</span> onRideCount <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

    <span class="token keyword">char</span> queue<span class="token punctuation">[</span>MAX_KIDS<span class="token punctuation">]</span><span class="token punctuation">[</span>MAX_NAME_LENGTH<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// 等待的小朋友队列</span>
    <span class="token keyword">int</span> queueCount <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

    <span class="token comment">// 遍历每个事件</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> eventCount<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">char</span> <span class="token operator">*</span>kid <span class="token operator">=</span> events<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token comment">// 移除换行符</span>
        kid<span class="token punctuation">[</span><span class="token function">strcspn</span><span class="token punctuation">(</span>kid<span class="token punctuation">,</span> <span class="token string">"\n"</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'\0'</span><span class="token punctuation">;</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">isInOnRide</span><span class="token punctuation">(</span>onRide<span class="token punctuation">,</span> onRideCount<span class="token punctuation">,</span> kid<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token comment">// 如果小朋友正在使用摇摇车，则让他离开</span>
            <span class="token function">removeFromOnRide</span><span class="token punctuation">(</span>onRide<span class="token punctuation">,</span> <span class="token operator">&amp;</span>onRideCount<span class="token punctuation">,</span> kid<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">// 若队列不为空，让队首小朋友上车</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>queueCount <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                <span class="token function">strcpy</span><span class="token punctuation">(</span>onRide<span class="token punctuation">[</span>onRideCount<span class="token operator">++</span><span class="token punctuation">]</span><span class="token punctuation">,</span> queue<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token function">removeFromQueue</span><span class="token punctuation">(</span>queue<span class="token punctuation">,</span> <span class="token operator">&amp;</span>queueCount<span class="token punctuation">,</span> queue<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
            <span class="token comment">// 小朋友到达</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>onRideCount <span class="token operator">&lt;</span> rideCount<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                <span class="token comment">// 若有空闲摇摇车，则上车</span>
                <span class="token function">strcpy</span><span class="token punctuation">(</span>onRide<span class="token punctuation">[</span>onRideCount<span class="token operator">++</span><span class="token punctuation">]</span><span class="token punctuation">,</span> kid<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
                <span class="token comment">// 没有空闲摇摇车</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">isInQueue</span><span class="token punctuation">(</span>queue<span class="token punctuation">,</span> queueCount<span class="token punctuation">,</span> kid<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                    <span class="token comment">// 如果小朋友已经在队列中，再次出现则不开心</span>
                    unhappyCount<span class="token operator">++</span><span class="token punctuation">;</span>
                    <span class="token function">removeFromQueue</span><span class="token punctuation">(</span>queue<span class="token punctuation">,</span> <span class="token operator">&amp;</span>queueCount<span class="token punctuation">,</span> kid<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
                    <span class="token comment">// 加入等待队列</span>
                    <span class="token function">strcpy</span><span class="token punctuation">(</span>queue<span class="token punctuation">[</span>queueCount<span class="token operator">++</span><span class="token punctuation">]</span><span class="token punctuation">,</span> kid<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 输出不开心的小朋友数量</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span> unhappyCount<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre> 
<p><img src="https://img-blog.csdnimg.cn/img_convert/b98429f56d7b21e9abb6e238d4c69d08.png" alt="fengmian"></p> 
<h4><a id="_487"></a>完整用例</h4> 
<h5><a id="1_488"></a>用例1</h5> 
<pre><code class="prism language-input1">1
1 2 1 2
</code></pre> 
<h5><a id="2_495"></a>用例2</h5> 
<pre><code class="prism language-input2">1
1 2 2 3 1 3
</code></pre> 
<h5><a id="3_502"></a>用例3</h5> 
<pre><code class="prism language-input3">2
1 2 3 1 2 3
</code></pre> 
<h5><a id="4_509"></a>用例4</h5> 
<pre><code class="prism language-input4">3
1 2 3 4 5 6
</code></pre> 
<h5><a id="5_516"></a>用例5</h5> 
<pre><code class="prism language-input5">4
1 2 3 4 1 2 3 4
</code></pre> 
<h5><a id="6_523"></a>用例6</h5> 
<pre><code class="prism language-input6">5
1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20
</code></pre> 
<h5><a id="7_530"></a>用例7</h5> 
<pre><code class="prism language-input7">3
1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20
</code></pre> 
<h5><a id="8_537"></a>用例8</h5> 
<pre><code class="prism language-input8">3
1 2 1 2 3 4 3 4 5 5
</code></pre> 
<h5><a id="9_544"></a>用例9</h5> 
<pre><code class="prism language-input9">1
1 2 2 3 1 3
</code></pre> 
<h5><a id="10_551"></a>用例10</h5> 
<pre><code class="prism language-input10">2
1 2 1 2 3 4 3 4 5 6 5 6
</code></pre>
                </div>
</body>
</html>

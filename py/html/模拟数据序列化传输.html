
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Document</title>
</head>
<body>
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h2><a id="ODCDABOJ_0"></a>华为OD机考:统一考试C卷+D卷+AB卷+刷题OJ</h2> 
<p>目前在考C卷，经过两个月的收集整理，<font color="RED">C卷真题已基本整理完毕</font><br> 抽到原题的概率为2/3到3/3，<font color="RED">也就是最少抽到两道原题。</font><font color="RED">请注意：大家刷完C卷真题，最好要把B卷的真题刷一下，因为C卷的部分真题来自B卷。 </font><br> 另外订阅专栏还可以联系笔者开通在线OJ进行刷题，提高刷题效率。<br> <font color="RED">真题目录：<a href="https://blog.csdn.net/banxia_frontend/article/details/129640773">华为OD机考机试 真题目录（C卷 + D卷 + B卷 + A卷） + 考点说明</a> </font><br> <font color="RED"> 专栏：<a href="https://blog.csdn.net/banxia_frontend/category_12225173.html">2023华为OD机试( B卷+C卷+D卷)（C++JavaJSPy）</a></font><br> <font color="RED"> 在线OJ：<a href="https://hydro.ac/d/hwod/p" rel="nofollow">点击立即刷题，模拟真实机考环境</a></font><br> <font color="RED"> 华为OD面试真题精选：<a href="https://blog.csdn.net/banxia_frontend/category_12436481.html">华为OD面试真题精选</a></font></p> 
<h2><a id="_12"></a>题目描述</h2> 
<p>模拟一套简化的序列化传输方式，请实现下面的数据编码与解码过程</p> 
<ol><li> <p>编码前数据格式为[位置,类型，值]，多个数据的时候用逗号分隔，位置仅支持数字，不考虑重复等场景；类型仅支持：Integer/String/Compose（Compose的数据类型表示该存储的数据也需要编码）。</p> </li><li> <p>编码后数据参考图示，数据区的格式是：位置#类型#长度#数，类型存储需要编码，Integer-&gt;0;String-&gt;1;Compose-&gt;2 长度是指数据的字符长度；数据仅允许数字、大小写字母、空格。</p> </li></ol> 
<p><img src="https://i-blog.csdnimg.cn/blog_migrate/1e5df1f8b61a5a17d0c601c5870f2312.png" alt="img"></p> 
<ol start="3"><li>输入的编码字符长度不能超过1000，一个数据的格式错误，则解析剩下数据，其他错误输出ENCODE_ERROR。 4、输入的解码字符不能超过1000，数据区异常则跳过继续解析剩余数据区，其他异常输出DECODE_ERROR。</li></ol> 
<h2><a id="_29"></a>输入描述</h2> 
<p>输入有两行，第一行是命令，1表示编码，2表示解码，第二行输入待编码、解码的字符。</p> 
<p>数据最多嵌套10层， [1,Compose,[1,String,Second]]为2层嵌套。</p> 
<h2><a id="_35"></a>输出描述</h2> 
<p>如果输入要求是编码，则输出编码结果；如果输入要求是解码，则输出解码结果；当异常时输出对应的错误字符</p> 
<h2><a id="1_39"></a>用例1</h2> 
<p>输入</p> 
<pre><code>1
[1,String,I am Mary],[2,Integer,23],[3, Long,1000000],[4,Compose,[1,String,I am Kitty],[2,Integer,44]]
</code></pre> 
<p>输出</p> 
<pre><code>1#1#9#I am Mary2#0#2#234#2#25#1#1#10#I am Kitty2#0#2#44
</code></pre> 
<p>说明</p> 
<blockquote> 
 <p>由于Long型未不支持类型，所以数据[3, Long,1000000]自动被过滤掉</p> 
</blockquote> 
<h2><a id="2_60"></a>用例2</h2> 
<p>输入</p> 
<pre><code>2
1#1#9#I am Mary2#0#2#233#0#3#8794#2#25#1#1#10#I am Kitty2#0#2#44
</code></pre> 
<p>输出</p> 
<pre><code>[1,String,I am Mary],[2,Integer,23],[3,Integer,879],[4,Compose,[1,String,I am Kitty],[2,Integer,44]]
</code></pre> 
<h2><a id="3_72"></a>用例3</h2> 
<p>输入</p> 
<pre><code>2
xxx
</code></pre> 
<p>输出</p> 
<pre><code>DECODE_ERROR
</code></pre> 
<p>说明</p> 
<blockquote> 
 <p>输入的待解码数据不满足格式要求</p> 
</blockquote> 
<h2><a id="4_89"></a>用例4</h2> 
<p>输入</p> 
<pre><code>1
[1,String,I am Mary],[2,Integer,23]],
</code></pre> 
<p>输出</p> 
<pre><code>ENCODE_ERROR
</code></pre> 
<p>说明</p> 
<blockquote> 
 <p>入格式不满足输入格式要求</p> 
</blockquote> 
<h2><a id="_104"></a>解题思路</h2> 
<p>这个题目描述了一种简化的数据序列化与反序列化的传输方式，目的是通过特定规则将数据编码（序列化）后传输，然后再解码（反序列化）回原始格式。具体要求如下：</p> 
<ol><li> <p><strong>编码前的数据格式</strong>：采用<code>[位置, 类型, 值]</code>的格式表示每个数据，多个数据之间用逗号分隔。其中，位置表示数据的顺序或标识，类型表示数据的类型（仅支持<code>Integer</code>、<code>String</code>、<code>Compose</code>），值是具体的数据内容。<code>Compose</code>类型表示该数据是复合类型，内部的数据也需要按照同样的规则进行编码。</p> </li><li> <p><strong>编码规则</strong>：编码后的数据格式为<code>位置#类型#长度#数据</code>，其中类型通过编码转换（<code>Integer</code>转为<code>0</code>，<code>String</code>转为<code>1</code>，<code>Compose</code>转为<code>2</code>），长度表示数据的字符长度。要求数据内容只能包含数字、大小写字母和空格。</p> </li><li> <p><strong>异常处理</strong>：</p> 
  <ul><li>如果编码输入超过1000字符，或者某个数据格式错误，则剩下的数据继续解析，遇到其他错误输出<code>ENCODE_ERROR</code>。</li><li>如果解码输入超过1000字符，或者数据区异常，则跳过该数据区继续解析其他数据区，遇到其他异常输出<code>DECODE_ERROR</code>。</li></ul> </li><li> <p><strong>输入描述</strong>：输入包含两行，第一行是命令（<code>1</code>表示编码，<code>2</code>表示解码），第二行是待处理的字符串。</p> </li><li> <p><strong>输出描述</strong>：根据输入命令，输出相应的处理结果。遇到异常情况时，输出相应的错误信息。</p> </li></ol> 
<h3><a id="1_120"></a>用例1的解释</h3> 
<p>在给定的用例1中，我们有一个编码（序列化）任务，指定的命令是 <code>1</code> 表示要进行编码。输入数据包含四个部分，格式为 <code>[位置, 类型, 值]</code>，其中位置是数据的序号，类型是数据的类型（支持<code>Integer</code>、<code>String</code>、<code>Compose</code>），值是数据的具体内容。具体来看，输入数据如下：</p> 
<ol><li><code>[1, String, I am Mary]</code>：第一个数据的位置是1，类型是String，值是"I am Mary"。</li><li><code>[2, Integer, 23]</code>：第二个数据的位置是2，类型是Integer，值是23。</li><li><code>[3, Long, 1000000]</code>：第三个数据的位置是3，类型是Long，值是1000000。由于题目中没有提到支持Long类型，所以这个数据会被自动过滤掉，不参与编码。</li><li><code>[4, Compose, [1, String, I am Kitty],[2, Integer, 44]]</code>：第四个数据的位置是4，类型是Compose，表示这是一个复合类型，内部包含两个数据<code>[1, String, I am Kitty]</code>和<code>[2, Integer, 44]</code>，这两个内部数据也需要按照规则进行编码。</li></ol> 
<p>根据题目描述的编码规则，我们需要将这些数据编码为<code>位置#类型#长度#数据</code>的格式，其中类型需要转换为数字编码（<code>Integer-&gt;0</code>; <code>String-&gt;1</code>; <code>Compose-&gt;2</code>），长度是指数据值的字符长度。</p> 
<p>因此，对于上述输入数据，编码的输出结果如下：</p> 
<ul><li>对于第一个数据<code>[1, String, I am Mary]</code>，编码后是<code>1#1#9#I am Mary</code>。</li><li>对于第二个数据<code>[2, Integer, 23]</code>，编码后是<code>2#0#2#23</code>。</li><li>第三个数据<code>[3, Long, 1000000]</code>被过滤掉，因为Long类型不支持。</li><li>对于第四个复合类型的数据<code>[4, Compose, [1, String, I am Kitty],[2, Integer, 44]]</code>，首先将内部的<code>[1, String, I am Kitty]</code>和<code>[2, Integer, 44]</code>按照规则编码，然后将整个复合数据编码为<code>4#2#长度#编码后的内部数据</code>，内部数据<code>[1, String, I am Kitty]</code>编码为<code>1#1#10#I am Kitty</code>，<code>[2, Integer, 44]</code>编码为<code>2#0#2#44</code>，复合数据的总长度是这两段编码的总字符数。</li></ul> 
<p>最终输出结果串联所有编码后的数据，注意被过滤掉的数据不会出现在输出中。因此，对于给定的输入，编码输出应该是：</p> 
<pre><code>1#1#9#I am Mary2#0#2#234#2#长度#1#1#10#I am Kitty2#0#2#44
</code></pre> 
<h3><a id="2_146"></a>用例2的解释</h3> 
<p>在给定的用例2中 指定的命令是 <code>2</code> 表示要进行解码。输入数据是一串经过编码的字符串，格式为 <code>位置#类型#长度#数据</code>，我们需要将其解码回原始的 <code>[位置, 类型, 值]</code> 格式。具体的输入数据如下：</p> 
<pre><code>1#1#9#I am Mary2#0#2#233#0#3#8794#2#25#1#1#10#I am Kitty2#0#2#44
</code></pre> 
<p>根据题目描述的解码规则，我们需要将每个数据块按照<code>位置#类型#长度#数据</code>的格式进行解码，其中类型需要从数字编码转换回文本（<code>0-&gt;Integer</code>; <code>1-&gt;String</code>; <code>2-&gt;Compose</code>）。然后，根据<code>长度</code>字段提取对应长度的<code>数据</code>内容。给定输入中包含了多个数据块，下面逐一解释：</p> 
<ol><li><code>1#1#9#I am Mary</code>：这表示第一个数据的位置是1，类型是String（<code>1</code>对应<code>String</code>），长度是9，数据内容是"I am Mary"。解码后，这个数据块对应的原始数据是<code>[1, String, I am Mary]</code>。</li><li><code>2#0#2#23</code>：这表示第二个数据的位置是2，类型是Integer（<code>0</code>对应<code>Integer</code>），长度是2，数据内容是"23"。解码后，这个数据块对应的原始数据是<code>[2, Integer, 23]</code>。</li><li><code>3#0#3#879</code>： 表示位置是3，类型是Integer，长度是3，数据是"879"。 如果是<code>3#0#3#879</code>，解码后是<code>[3, Integer, 879]</code>。</li><li><code>4#2#25#1#1#10#I am Kitty2#0#2#44</code>：这表示第四个数据的位置是4，类型是Compose（<code>2</code>对应<code>Compose</code>），长度是25，数据内容包括了复合数据的编码。根据复合数据的内部结构，我们需要将这部分再次解码： 
  <ul><li>内部的<code>1#1#10#I am Kitty</code>对应<code>[1, String, I am Kitty]</code>。</li><li>内部的<code>2#0#2#44</code>对应<code>[2, Integer, 44]</code>。<br> 解码后，这个数据块对应的原始数据是<code>[4, Compose, [1, String, I am Kitty],[2, Integer, 44]]</code>。</li></ul> </li></ol> 
<p>因此，根据给定的编码字符串，解码后的输出应该如下</p> 
<p><code>[1,String,I am Mary],[2,Integer,23],[3,Integer,879],[4,Compose,[1,String,I am Kitty],[2,Integer,44]]</code></p> 
<h2><a id="C_172"></a>C++</h2> 
<pre><code class="prism language-c">
</code></pre> 
<h2><a id="Java_178"></a>Java</h2> 
<pre><code class="prism language-java"><span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">ArrayList</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">HashMap</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">List</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Scanner</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">ArrayList</span></span><span class="token punctuation">;</span> <span class="token comment">// 导入ArrayList类，用于存储列表</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">HashMap</span></span><span class="token punctuation">;</span> <span class="token comment">// 导入HashMap类，用于存储键值对</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">List</span></span><span class="token punctuation">;</span> <span class="token comment">// 导入List接口</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Scanner</span></span><span class="token punctuation">;</span> <span class="token comment">// 导入Scanner类，用于获取用户输入</span>

<span class="token comment">// 定义SerializationProcessor类，用于处理序列化和反序列化操作</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SerializationProcessor</span> <span class="token punctuation">{<!-- --></span>

    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">String</span> codeStr <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">;</span> <span class="token comment">// 用于存储编码或解码的字符串</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">int</span> readIndex <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment">// 读取字符串的当前位置索引</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> typeDict <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 存储类型到编码的映射</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> typeValueDict <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 存储编码到类型的映射</span>

    <span class="token comment">// 静态代码块，用于初始化类型映射</span>
    <span class="token keyword">static</span> <span class="token punctuation">{<!-- --></span>
        typeDict<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"Integer"</span><span class="token punctuation">,</span> <span class="token string">"0"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 将Integer类型映射为"0"</span>
        typeDict<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"String"</span><span class="token punctuation">,</span> <span class="token string">"1"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 将String类型映射为"1"</span>
        typeDict<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"Compose"</span><span class="token punctuation">,</span> <span class="token string">"2"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 将Compose类型映射为"2"</span>
        typeValueDict<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"0"</span><span class="token punctuation">,</span> <span class="token string">"Integer"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 将"0"映射回Integer类型</span>
        typeValueDict<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"1"</span><span class="token punctuation">,</span> <span class="token string">"String"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 将"1"映射回String类型</span>
        typeValueDict<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"2"</span><span class="token punctuation">,</span> <span class="token string">"Compose"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 将"2"映射回Compose类型</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 从codeStr中读取数据直到遇到','或']'停止</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">String</span> <span class="token function">encodeRead</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">StringBuilder</span> res <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 创建StringBuilder用于拼接字符</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span>readIndex <span class="token operator">&lt;</span> codeStr<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> codeStr<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span>readIndex<span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token char">','</span> <span class="token operator">&amp;&amp;</span> codeStr<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span>readIndex<span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token char">']'</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            res<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>codeStr<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span>readIndex<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 添加当前字符到结果中</span>
            readIndex<span class="token operator">++</span><span class="token punctuation">;</span> <span class="token comment">// 索引递增，移动到下一个字符</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> res<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 返回读取的字符串</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 解析编码字符串，转换为对象数组列表</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">List</span><span class="token operator">&lt;</span><span class="token class-name">Object</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">&gt;</span> <span class="token function">encodeParse</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>readIndex <span class="token operator">&gt;=</span> codeStr<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span> <span class="token comment">// 如果已读取完字符串，返回null</span>
            <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token class-name">List</span><span class="token operator">&lt;</span><span class="token class-name">Object</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">&gt;</span> res <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 创建列表存储解析结果</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span>readIndex <span class="token operator">&lt;</span> codeStr<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span> <span class="token comment">// 遍历字符串</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>codeStr<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span>readIndex<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token char">','</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span> <span class="token comment">// 跳过逗号</span>
                readIndex<span class="token operator">++</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>codeStr<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span>readIndex<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token char">'['</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span> <span class="token comment">// 遇到'['开始解析一个新元素</span>
                readIndex<span class="token operator">++</span><span class="token punctuation">;</span> <span class="token comment">// 跳过'['</span>
                <span class="token class-name">String</span> index <span class="token operator">=</span> <span class="token function">encodeRead</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 读取索引</span>
                readIndex<span class="token operator">++</span><span class="token punctuation">;</span> <span class="token comment">// 跳过分隔符</span>
                <span class="token class-name">String</span> typeStr <span class="token operator">=</span> <span class="token function">encodeRead</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 读取类型字符串并去除空格</span>
                readIndex<span class="token operator">++</span><span class="token punctuation">;</span> <span class="token comment">// 跳过分隔符</span>

                <span class="token keyword">if</span> <span class="token punctuation">(</span>typeStr<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">"String"</span><span class="token punctuation">)</span> <span class="token operator">||</span> typeStr<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">"Integer"</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span> <span class="token comment">// 如果是String或Integer类型</span>
                    <span class="token class-name">String</span> value <span class="token operator">=</span> <span class="token function">encodeRead</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 读取值</span>
                    readIndex<span class="token operator">++</span><span class="token punctuation">;</span> <span class="token comment">// 跳过分隔符</span>
                    res<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">{<!-- --></span>index<span class="token punctuation">,</span> typeStr<span class="token punctuation">,</span> value<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 将结果添加到列表中</span>
                <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>typeStr<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">"Compose"</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span> <span class="token comment">// 如果是Compose类型</span>
                    <span class="token class-name">List</span><span class="token operator">&lt;</span><span class="token class-name">Object</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">&gt;</span> arr <span class="token operator">=</span> <span class="token function">encodeParse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 递归解析Compose内部结构</span>
                    <span class="token keyword">if</span> <span class="token punctuation">(</span>arr <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span> <span class="token comment">// 如果解析结果非空</span>
                        res<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">{<!-- --></span>index<span class="token punctuation">,</span> typeStr<span class="token punctuation">,</span> arr<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 将结果添加到列表中</span>
                    <span class="token punctuation">}</span>
                    readIndex<span class="token operator">++</span><span class="token punctuation">;</span> <span class="token comment">// 跳过分隔符</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span> <span class="token comment">// 如果是其他字符，跳过</span>
                readIndex<span class="token operator">++</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> res<span class="token punctuation">;</span> <span class="token comment">// 返回解析结果列表</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 根据解析得到的数据构建编码字符串</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">String</span> <span class="token function">encodeValue</span><span class="token punctuation">(</span><span class="token class-name">List</span><span class="token operator">&lt;</span><span class="token class-name">Object</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">&gt;</span> data<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">StringBuilder</span> res <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 创建StringBuilder用于拼接编码字符串</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Object</span><span class="token punctuation">[</span><span class="token punctuation">]</span> i <span class="token operator">:</span> data<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span> <span class="token comment">// 遍历数据列表</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>i<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">"String"</span><span class="token punctuation">)</span> <span class="token operator">||</span> i<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">"Integer"</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span> <span class="token comment">// 如果元素类型是String或Integer</span>
                res<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">"%s#%s#%d#%s"</span><span class="token punctuation">,</span> i<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> typeDict<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>i<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">)</span> i<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> i<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 格式化并添加到结果字符串</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>i<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">"Compose"</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span> <span class="token comment">// 如果元素类型是Compose</span>
                <span class="token class-name">String</span> sub <span class="token operator">=</span> <span class="token function">encodeValue</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token class-name">List</span><span class="token operator">&lt;</span><span class="token class-name">Object</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">&gt;</span><span class="token punctuation">)</span> i<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 递归编码Compose内部结构</span>
                res<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">"%s#%s#%d#%s"</span><span class="token punctuation">,</span> i<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> typeDict<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>i<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span> sub<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> sub<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 格式化并添加到结果字符串</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> res<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 返回编码后的字符串</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 对外提供的编码方法，接收字符串参数，返回编码后的字符串</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">String</span> <span class="token function">encode</span><span class="token punctuation">(</span><span class="token class-name">String</span> s<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        codeStr <span class="token operator">=</span> s<span class="token punctuation">;</span> <span class="token comment">// 初始化codeStr为输入的字符串</span>
        <span class="token class-name">List</span><span class="token operator">&lt;</span><span class="token class-name">Object</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">&gt;</span> data <span class="token operator">=</span> <span class="token function">encodeParse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 解析输入字符串，获取数据列表</span>
        <span class="token keyword">return</span> <span class="token function">encodeValue</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 根据数据列表生成编码字符串</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 根据指定长度读取解码字符串，如果未指定长度，则读取到下一个'#'为止</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">String</span> <span class="token function">decodeRead</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> size<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">StringBuilder</span> res <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 创建StringBuilder用于拼接字符</span>
        <span class="token keyword">int</span> readSize <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment">// 初始化已读取字符计数器</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span>readIndex <span class="token operator">&lt;</span> codeStr<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>size <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token operator">||</span> readSize <span class="token operator">&lt;</span> size<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span> <span class="token comment">// 循环读取字符直到满足长度要求</span>
            <span class="token keyword">char</span> currentChar <span class="token operator">=</span> codeStr<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span>readIndex<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 获取当前字符</span>
            readIndex<span class="token operator">++</span><span class="token punctuation">;</span> <span class="token comment">// 索引递增，移动到下一个字符</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>currentChar <span class="token operator">!=</span> <span class="token char">'#'</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span> <span class="token comment">// 如果当前字符不是'#'</span>
                res<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>currentChar<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 添加到结果字符串</span>
                readSize<span class="token operator">++</span><span class="token punctuation">;</span> <span class="token comment">// 已读取字符计数器递增</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
                <span class="token keyword">break</span><span class="token punctuation">;</span> <span class="token comment">// 如果遇到'#'，结束循环</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> res<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 返回读取的字符串</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 解析编码后的字符串，转换为列表格式</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> <span class="token function">decodeParse</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> res <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 创建列表存储解析结果</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span>readIndex <span class="token operator">&lt;</span> codeStr<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span> <span class="token comment">// 遍历字符串</span>
            <span class="token class-name">String</span> index <span class="token operator">=</span> <span class="token function">decodeRead</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 读取索引</span>
            <span class="token class-name">String</span> typeValue <span class="token operator">=</span> <span class="token function">decodeRead</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 读取类型编码</span>
            <span class="token keyword">int</span> length <span class="token operator">=</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">parseInt</span><span class="token punctuation">(</span><span class="token function">decodeRead</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 读取值长度</span>
            <span class="token class-name">String</span> value<span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>typeValue<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">"0"</span><span class="token punctuation">)</span> <span class="token operator">||</span> typeValue<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">"1"</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span> <span class="token comment">// 如果是Integer或String类型</span>
                value <span class="token operator">=</span> <span class="token function">decodeRead</span><span class="token punctuation">(</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 根据长度读取值</span>
                res<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">"[%s,%s,%s]"</span><span class="token punctuation">,</span> index<span class="token punctuation">,</span> typeValueDict<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>typeValue<span class="token punctuation">)</span><span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 添加到结果列表</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>typeValue<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">"2"</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span> <span class="token comment">// 如果是Compose类型</span>
                <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> arr <span class="token operator">=</span> <span class="token function">decodeParse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 递归解析Compose内部结构</span>
                <span class="token class-name">String</span> sub <span class="token operator">=</span> <span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">","</span><span class="token punctuation">,</span> arr<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 将内部结构连接为字符串</span>
                res<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">"[%s,%s,%s]"</span><span class="token punctuation">,</span> index<span class="token punctuation">,</span> typeValueDict<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>typeValue<span class="token punctuation">)</span><span class="token punctuation">,</span> sub<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 添加到结果列表</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> res<span class="token punctuation">;</span> <span class="token comment">// 返回解析结果列表</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 对外提供的解码方法，接收编码字符串参数，返回解码后的字符串</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">String</span> <span class="token function">decode</span><span class="token punctuation">(</span><span class="token class-name">String</span> s<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        codeStr <span class="token operator">=</span> s<span class="token punctuation">;</span> <span class="token comment">// 初始化codeStr为输入的字符串</span>
        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> data <span class="token operator">=</span> <span class="token function">decodeParse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 解析编码字符串，获取数据列表</span>
        <span class="token keyword">return</span> <span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">","</span><span class="token punctuation">,</span> data<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 将数据列表连接为字符串并返回</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">Scanner</span> scanner <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Scanner</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span>in<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> cmd <span class="token operator">=</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">parseInt</span><span class="token punctuation">(</span>scanner<span class="token punctuation">.</span><span class="token function">nextLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> codeS <span class="token operator">=</span> scanner<span class="token punctuation">.</span><span class="token function">nextLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span>cmd <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>codeS<span class="token punctuation">.</span><span class="token function">chars</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>ch <span class="token operator">-&gt;</span> ch <span class="token operator">==</span> <span class="token char">'['</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">count</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">!=</span> codeS<span class="token punctuation">.</span><span class="token function">chars</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>ch <span class="token operator">-&gt;</span> ch <span class="token operator">==</span> <span class="token char">']'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">count</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"ENCODE_ERROR"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">exit</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token function">encode</span><span class="token punctuation">(</span>codeS<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>cmd <span class="token operator">==</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">long</span> countHashes <span class="token operator">=</span> codeS<span class="token punctuation">.</span><span class="token function">chars</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>ch <span class="token operator">-&gt;</span> ch <span class="token operator">==</span> <span class="token char">'#'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">count</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>countHashes <span class="token operator">%</span> <span class="token number">3</span> <span class="token operator">!=</span> <span class="token number">0</span> <span class="token operator">||</span> countHashes <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"DECODE_ERROR"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">exit</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token function">decode</span><span class="token punctuation">(</span>codeS<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<h2><a id="javaScript_342"></a>javaScript</h2> 
<pre><code class="prism language-js">
</code></pre> 
<h2><a id="Python_350"></a>Python</h2> 
<pre><code class="prism language-python">
</code></pre> 
<h2><a id="C_356"></a>C语言</h2> 
<pre><code class="prism language-c">
</code></pre> 
<p></p> 
<div class="toc"> 
 <h4>文章目录</h4> 
 <ul><li><a href="#ODCDABOJ_0" rel="nofollow">华为OD机考:统一考试C卷+D卷+AB卷+刷题OJ</a></li><li><a href="#_12" rel="nofollow">题目描述</a></li><li><a href="#_29" rel="nofollow">输入描述</a></li><li><a href="#_35" rel="nofollow">输出描述</a></li><li><a href="#1_39" rel="nofollow">用例1</a></li><li><a href="#2_60" rel="nofollow">用例2</a></li><li><a href="#3_72" rel="nofollow">用例3</a></li><li><a href="#4_89" rel="nofollow">用例4</a></li><li><a href="#_104" rel="nofollow">解题思路</a></li><li><ul><li><a href="#1_120" rel="nofollow">用例1的解释</a></li><li><a href="#2_146" rel="nofollow">用例2的解释</a></li></ul> 
  </li><li><a href="#C_172" rel="nofollow">C++</a></li><li><a href="#Java_178" rel="nofollow">Java</a></li><li><a href="#javaScript_342" rel="nofollow">javaScript</a></li><li><a href="#Python_350" rel="nofollow">Python</a></li><li><a href="#C_356" rel="nofollow">C语言</a></li></ul> 
</div> 
<p></p> 
<p><img src="https://i-blog.csdnimg.cn/blog_migrate/0047f1f4c2c34a82d182fae5c52c3e89.png" alt="fengmian"></p>
                </div>
</body>
</html>

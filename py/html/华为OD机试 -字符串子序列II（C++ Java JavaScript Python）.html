
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Document</title>
</head>
<body>
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h4><a id="_1"></a>题目描述</h4> 
<blockquote> 
 <p>给定字符串 target和 source，判断 target是否为 source 的子序列。你可以认为target和 source<br> 中仅包含英文小写字母。</p> 
 <p>字符串 source 可能会很长（长度~=500,000），而 target是个短字符串（长度&lt;=100)。</p> 
 <p>字符串的一个子序列是原始字符串删除一些（也可以不删除）字符而不改变剩余字符相对位置形成的新字符串。</p> 
 <p>（例如，”abc”是”aebycd”的一个子序列，而”ayb”不是）。</p> 
 <p>请找出最后一个子序列的起始位置。</p> 
</blockquote> 
<h4><a id="_14"></a>输入描述</h4> 
<blockquote> 
 <p>第一行为target，短字符串（长度 &lt;=100）</p> 
 <p>第二行为source，长字符串（长度 ~= 500,000）</p> 
</blockquote> 
<h4><a id="_20"></a>输出描述</h4> 
<blockquote> 
 <p>最后一个子序列的起始位置，即最后一个子序列首字母的下标</p> 
</blockquote> 
<h5><a id="ACM_24"></a>ACM输入输出模式</h5> 
<p>如果你经常使用<strong>Leetcode</strong>,会知道<strong>letcode</strong>是不需要编写输入输出函数的。但是华为OD机考使用的是 <strong>ACM 模式</strong>，需要手动编写输入和输出。</p> 
<p>所以最好在牛-客上提前熟悉这种模式。例如C++使用<code>cin/cout</code>,python使用<code>input()/print()</code>。JavaScript使用node的<code>readline()</code>和<code>console.log()</code>。Java 使用<code>sacnner/system.out.print()</code></p> 
<h4><a id="_29"></a>用例</h4> 
<p>输入</p> 
<pre><code class="prism language-c">abc
abcaybec
</code></pre> 
<p>输出</p> 
<pre><code class="prism language-c"><span class="token number">3</span>
</code></pre> 
<p>说明</p> 
<blockquote> 
 <p>这里有两个abc的子序列满足，取下标较大的，故返回3。<br> 备注 若在source中找不到target，则输出-1。</p> 
</blockquote> 
<h4><a id="_48"></a>机考代码查重</h4> 
<p>华为OD机考完成之后，官方会进行代码查重。<strong>华为 od 机考确实有很大的概率抽到原题</strong>。如果碰到了题库中的原题，一定不要直接使用题解中的代码，尤其是变量名，一定要修改，可以改成毫无意义的单词。除了变量名之外，代码的组织结构和逻辑一定要进行改变，这就要求在日常的刷题中，提前编写好属于自己的代码。</p> 
<h4><a id="C_52"></a>C++</h4> 
<pre><code class="prism language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;string&gt;</span></span>
using namespace std<span class="token punctuation">;</span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">// 定义两个字符串变量target和source</span>
    string target<span class="token punctuation">,</span> source<span class="token punctuation">;</span>
    <span class="token comment">// 从标准输入中读取两个字符串</span>
    cin <span class="token operator">&gt;&gt;</span> target<span class="token punctuation">;</span>
    cin <span class="token operator">&gt;&gt;</span> source<span class="token punctuation">;</span>
    <span class="token comment">// 初始化游标cursor为target字符串的最后一个字符的下标</span>
    <span class="token keyword">int</span> cursor <span class="token operator">=</span> target<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> i <span class="token operator">=</span> source<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>i <span class="token operator">&gt;=</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> cursor <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// 如果当前字符相等，则游标cursor向前移动一位</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>source<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> target<span class="token punctuation">[</span>cursor<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            cursor<span class="token operator">--</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        i<span class="token operator">--</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// 如果游标已经移动到target字符串的第一个字符之前，说明已经匹配完整个target字符串，返回当前字符在source中的下标i</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>cursor <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        cout <span class="token operator">&lt;&lt;</span> i <span class="token operator">+</span> <span class="token number">1</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// 如果遍历完source字符串后仍未匹配完整个target字符串，则返回-1</span>
        cout <span class="token operator">&lt;&lt;</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h4><a id="java_88"></a>java</h4> 
<pre><code class="prism language-java"><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Scanner</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Main</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">// 主函数</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// 定义两个字符串变量target和source</span>
        <span class="token class-name">String</span> target<span class="token punctuation">,</span> source<span class="token punctuation">;</span>
        <span class="token comment">// 从标准输入中读取两个字符串</span>
        <span class="token class-name">Scanner</span> scanner <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Scanner</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span>in<span class="token punctuation">)</span><span class="token punctuation">;</span>
        target <span class="token operator">=</span> scanner<span class="token punctuation">.</span><span class="token function">nextLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        source <span class="token operator">=</span> scanner<span class="token punctuation">.</span><span class="token function">nextLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 初始化游标cursor为target字符串的最后一个字符的下标</span>
        <span class="token keyword">int</span> cursor <span class="token operator">=</span> target<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> i <span class="token operator">=</span> source<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span>i <span class="token operator">&gt;=</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> cursor <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token comment">// 如果当前字符相等，则游标cursor向前移动一位</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>source<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span> <span class="token operator">==</span> target<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span>cursor<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                cursor<span class="token operator">--</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            i<span class="token operator">--</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token comment">// 如果游标已经移动到target字符串的第一个字符之前，说明已经匹配完整个target字符串，返回当前字符在source中的下标i</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>cursor <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
            <span class="token comment">// 如果遍历完source字符串后仍未匹配完整个target字符串，则返回-1</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<h4><a id="javaScript_126"></a>javaScript</h4> 
<pre><code class="prism language-javaScript">const readline = require('readline');

const rl = readline.createInterface({
  input: process.stdin,
  output: process.stdout
});

rl.on('line', (target) =&gt; {
  rl.on('line', (source) =&gt; {
    let cursor = target.length - 1;
    let i = source.length - 1;
    while (i &gt;= 0 &amp;&amp; cursor &gt;= 0) {
      if (source.charAt(i) === target.charAt(cursor)) {
        cursor--;
      }
      i--;
    }
    if (cursor &lt; 0) {
      console.log(i + 1);
    } else {
      console.log(-1);
    }
    rl.close();
  });
});
</code></pre> 
<h4><a id="python_160"></a>python</h4> 
<pre><code class="prism language-python">
target <span class="token operator">=</span> <span class="token builtin">input</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>strip<span class="token punctuation">(</span><span class="token punctuation">)</span>
source <span class="token operator">=</span> <span class="token builtin">input</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>strip<span class="token punctuation">(</span><span class="token punctuation">)</span>

cursor <span class="token operator">=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>target<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span>
i <span class="token operator">=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>source<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span>

<span class="token keyword">while</span> i <span class="token operator">&gt;=</span> <span class="token number">0</span> <span class="token keyword">and</span> cursor <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">:</span>
    <span class="token keyword">if</span> source<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> target<span class="token punctuation">[</span>cursor<span class="token punctuation">]</span><span class="token punctuation">:</span>
        cursor <span class="token operator">-=</span> <span class="token number">1</span>
    i <span class="token operator">-=</span> <span class="token number">1</span>

<span class="token keyword">if</span> cursor <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span>
<span class="token keyword">else</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span>
</code></pre> 
<blockquote> 
 <p></p> 
 <div class="toc"> 
  <h4>文章目录</h4> 
  <ul><li><ul><li><ul><li><a href="#_1" rel="nofollow">题目描述</a></li><li><a href="#_14" rel="nofollow">输入描述</a></li><li><a href="#_20" rel="nofollow">输出描述</a></li><li><ul><li><a href="#ACM_24" rel="nofollow">ACM输入输出模式</a></li></ul> 
     </li><li><a href="#_29" rel="nofollow">用例</a></li><li><a href="#_48" rel="nofollow">机考代码查重</a></li><li><a href="#C_52" rel="nofollow">C++</a></li><li><a href="#java_88" rel="nofollow">java</a></li><li><a href="#javaScript_126" rel="nofollow">javaScript</a></li><li><a href="#python_160" rel="nofollow">python</a></li><li><a href="#_190" rel="nofollow">完整用例</a></li><li><ul><li><a href="#1_191" rel="nofollow">用例1</a></li><li><a href="#2_198" rel="nofollow">用例2</a></li><li><a href="#3_205" rel="nofollow">用例3</a></li><li><a href="#4_212" rel="nofollow">用例4</a></li><li><a href="#5_219" rel="nofollow">用例5</a></li><li><a href="#6_226" rel="nofollow">用例6</a></li><li><a href="#7_233" rel="nofollow">用例7</a></li><li><a href="#8_240" rel="nofollow">用例8</a></li><li><a href="#9_247" rel="nofollow">用例9</a></li><li><a href="#10_254" rel="nofollow">用例10</a></li></ul> 
    </li></ul> 
   </li></ul> 
  </li></ul> 
 </div> 
 <p></p> 
</blockquote> 
<p><img src="https://img-blog.csdnimg.cn/img_convert/1d2f33ed8cf2fb1b9a4fe09513f7aa94.png" alt="fengmian"></p> 
<h4><a id="_190"></a>完整用例</h4> 
<h5><a id="1_191"></a>用例1</h5> 
<pre><code class="prism language-input1">abc
abcaybec
</code></pre> 
<h5><a id="2_198"></a>用例2</h5> 
<pre><code class="prism language-input2">def
abcdefg
</code></pre> 
<h5><a id="3_205"></a>用例3</h5> 
<pre><code class="prism language-input3">xyz
abcaybec
</code></pre> 
<h5><a id="4_212"></a>用例4</h5> 
<pre><code class="prism language-input4">bcd
aebycd
</code></pre> 
<h5><a id="5_219"></a>用例5</h5> 
<pre><code class="prism language-input5">ab
cdefghijklmnopqrstuvwxyz
</code></pre> 
<h5><a id="6_226"></a>用例6</h5> 
<pre><code class="prism language-input6">def
abcdefg
</code></pre> 
<h5><a id="7_233"></a>用例7</h5> 
<pre><code class="prism language-input7">cde
abcdefg
</code></pre> 
<h5><a id="8_240"></a>用例8</h5> 
<pre><code class="prism language-input8">fg
abcdefg
</code></pre> 
<h5><a id="9_247"></a>用例9</h5> 
<pre><code class="prism language-input9">e
abcdeabcde
</code></pre> 
<h5><a id="10_254"></a>用例10</h5> 
<pre><code class="prism language-input10">abcd
abcdeabcde
</code></pre>
                </div>
</body>
</html>

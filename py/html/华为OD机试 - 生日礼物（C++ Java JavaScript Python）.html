
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Document</title>
</head>
<body>
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h2><a id="OD_1"></a>最新华为OD机试</h2> 
<p><font color="RED">真题目录：<a href="https://blog.csdn.net/banxia_frontend/article/details/129640773">点击查看目录</a> </font><br> <font color="RED"> 华为OD面试真题精选：<a href="https://blog.csdn.net/banxia_frontend/category_12436481.html">点击立即查看</a></font></p> 
<h2><a id="_5"></a>题目描述</h2> 
<p>小牛的孩子生日快要到了，他打算给孩子买蛋糕和小礼物，蛋糕和小礼物各买一个，他的预算不超过x元。蛋糕cake和小礼物gift都有多种价位的可供选择。</p> 
<p>请返回小牛共有多少种购买方案。</p> 
<h2><a id="_11"></a>输入描述</h2> 
<p>第一行表示cake的单价，以逗号分隔</p> 
<p>第二行表示gift的单价，以逗号分隔</p> 
<p>第三行表示x预算</p> 
<h4><a id="_19"></a>备注</h4> 
<ul><li>1 ≤ cake.length ≤ 10^5</li><li>1 ≤ gift.length ≤10^5</li><li>1 ≤ cake[i]，gift[i] ≤ 10^5</li><li>1 ≤ X ≤ 2*10^5</li></ul> 
<h2><a id="_27"></a>输出描述</h2> 
<p>输出数字表示购买方案的总数</p> 
<h2><a id="1_31"></a>示例1</h2> 
<p>输入</p> 
<pre><code>10,20,5
5,5,2
15
</code></pre> 
<p>输出</p> 
<pre><code>6
</code></pre> 
<p>说明</p> 
<blockquote> 
 <p>解释: 小牛有6种购买方案，所选蛋糕与所选礼物在数组中对应的下标分别是：</p> 
 <p>第1种方案: cake [0] + gift [0] = 10 + 5 = 15;<br> 第2种方案: cake [0] + gift [1]= 10 + 5 = 15;<br> 第3种方案: cake [0] + gift [2] = 10 + 2 = 12;</p> 
 <p>第4种方案: cake [2] + gift [0] = 5 + 5 = 10;</p> 
 <p>第5种方案: cake [2] + gift [1]= 5 + 5 = 10;<br> 第6种方案: cake [2] + gift [2] = 5 + 2 = 7。</p> 
</blockquote> 
<blockquote></blockquote> 
<h2><a id="_65"></a>解题思路</h2> 
<p>题目要求在给定预算 <code>x</code> 元的限制下，找到所有可以购买一个蛋糕和一个礼物的组合，使得它们的总价不超过 <code>x</code>。我们需要输出符合预算的所有组合数量。</p> 
<h4><a id="_70"></a>题目解析</h4> 
<ol><li> <p><strong>输入内容</strong>：</p> 
  <ul><li>第一行是蛋糕的价格数组，多个价格以逗号分隔。</li><li>第二行是礼物的价格数组，多个价格以逗号分隔。</li><li>第三行是预算 <code>x</code>，一个整数。</li></ul> </li><li> <p><strong>输出</strong>：</p> 
  <ul><li>输出一个整数，表示所有符合预算的蛋糕和礼物组合数量。</li></ul> </li><li> <p><strong>示例说明</strong>：</p> 
  <ul><li>示例中有 <code>cake = [10, 20, 5]</code> 和 <code>gift = [5, 5, 2]</code>，预算 <code>x = 15</code>。</li><li>可以找到满足总价不超过 15 元的组合，共有 6 种购买方案。</li></ul> </li></ol> 
<h4><a id="_84"></a>思路</h4> 
<ol><li> <p><strong>遍历组合</strong>：遍历 <code>cake</code> 和 <code>gift</code> 两个数组，找到所有符合条件的组合。对于每个 <code>cake[i]</code>，尝试与每个 <code>gift[j]</code> 组合，如果 <code>cake[i] + gift[j] &lt;= x</code>，则该组合符合要求。</p> </li><li> <p><strong>双指针优化（若数据量较大时考虑）</strong>：</p> 
  <ul><li>首先将两个数组排序。</li><li>使用双指针的方法，固定一个数组的指针位置，在另一个数组中寻找符合条件的范围，可以有效减少不必要的遍历次数，提高效率。</li></ul> </li><li> <p><strong>输出结果</strong>：统计符合条件的组合数量，输出该数值。</p> </li></ol> 
<p>这种解法适用于较大数据量场景，避免了双重循环的暴力解法带来的性能问题。</p> 
<h2><a id="Java_98"></a>Java</h2> 
<pre><code class="prism language-java"><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Arrays</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Scanner</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Main</span> <span class="token punctuation">{<!-- --></span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token class-name">Scanner</span> sc <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Scanner</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span>in<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 输入cake的单价，以逗号分隔</span>
    <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> cakePrices <span class="token operator">=</span> <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span>sc<span class="token punctuation">.</span><span class="token function">nextLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">","</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">mapToInt</span><span class="token punctuation">(</span><span class="token class-name">Integer</span><span class="token operator">::</span><span class="token function">parseInt</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toArray</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 输入gift的单价，以逗号分隔</span>
    <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> giftPrices <span class="token operator">=</span> <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span>sc<span class="token punctuation">.</span><span class="token function">nextLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">","</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">mapToInt</span><span class="token punctuation">(</span><span class="token class-name">Integer</span><span class="token operator">::</span><span class="token function">parseInt</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toArray</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 输入预算x</span>
    <span class="token keyword">int</span> budget <span class="token operator">=</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">parseInt</span><span class="token punctuation">(</span>sc<span class="token punctuation">.</span><span class="token function">nextLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 将cake的单价从小到大排序</span>
    <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span>cakePrices<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">long</span> totalSolutions <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> giftPrice <span class="token operator">:</span> giftPrices<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      <span class="token comment">// 如果礼物的价格大于等于预算，则跳过</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>giftPrice <span class="token operator">&gt;=</span> budget<span class="token punctuation">)</span> <span class="token keyword">continue</span><span class="token punctuation">;</span>

      <span class="token comment">// 计算最大的蛋糕价格</span>
      <span class="token keyword">int</span> maxCakePrice <span class="token operator">=</span> budget <span class="token operator">-</span> giftPrice<span class="token punctuation">;</span>

      <span class="token comment">// 二分查找蛋糕价格数组中最后一个小于等于maxCakePrice的位置</span>
      <span class="token keyword">int</span> low <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
      <span class="token keyword">int</span> high <span class="token operator">=</span> cakePrices<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>
      <span class="token keyword">while</span> <span class="token punctuation">(</span>low <span class="token operator">&lt;=</span> high<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">int</span> mid <span class="token operator">=</span> <span class="token punctuation">(</span>low <span class="token operator">+</span> high<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span>
        
        <span class="token keyword">if</span> <span class="token punctuation">(</span>cakePrices<span class="token punctuation">[</span>mid<span class="token punctuation">]</span> <span class="token operator">&lt;=</span> maxCakePrice<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
          low <span class="token operator">=</span> mid <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">// 尝试找到更大的值</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
          high <span class="token operator">=</span> mid <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
      
      <span class="token comment">// high 指向的是最后一个小于等于 maxCakePrice 的位置</span>
      totalSolutions <span class="token operator">+=</span> high <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>totalSolutions<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<h2><a id="Python_148"></a>Python</h2> 
<pre><code class="prism language-python"><span class="token keyword">import</span> sys

<span class="token comment"># 获取用户输入</span>
cake_prices <span class="token operator">=</span> <span class="token builtin">list</span><span class="token punctuation">(</span><span class="token builtin">map</span><span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">,</span> <span class="token builtin">input</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token string">","</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
gift_prices <span class="token operator">=</span> <span class="token builtin">list</span><span class="token punctuation">(</span><span class="token builtin">map</span><span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">,</span> <span class="token builtin">input</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token string">","</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
budget <span class="token operator">=</span> <span class="token builtin">int</span><span class="token punctuation">(</span><span class="token builtin">input</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment"># 将蛋糕价格数组从小到大排序</span>
cake_prices<span class="token punctuation">.</span>sort<span class="token punctuation">(</span><span class="token punctuation">)</span>

total_solutions <span class="token operator">=</span> <span class="token number">0</span>

<span class="token comment"># 遍历每个礼物价格</span>
<span class="token keyword">for</span> gift_price <span class="token keyword">in</span> gift_prices<span class="token punctuation">:</span>
    <span class="token comment"># 如果礼物价格超过或等于预算，跳过该礼物</span>
    <span class="token keyword">if</span> gift_price <span class="token operator">&gt;=</span> budget<span class="token punctuation">:</span>
        <span class="token keyword">continue</span>

    <span class="token comment"># 计算能够购买的最大蛋糕价格</span>
    max_cake_price <span class="token operator">=</span> budget <span class="token operator">-</span> gift_price

    <span class="token comment"># 二分查找最后一个小于等于maxCakePrice的位置</span>
    low<span class="token punctuation">,</span> high <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token builtin">len</span><span class="token punctuation">(</span>cake_prices<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span>
    <span class="token keyword">while</span> low <span class="token operator">&lt;=</span> high<span class="token punctuation">:</span>
        mid <span class="token operator">=</span> <span class="token punctuation">(</span>low <span class="token operator">+</span> high<span class="token punctuation">)</span> <span class="token operator">//</span> <span class="token number">2</span>
        <span class="token keyword">if</span> cake_prices<span class="token punctuation">[</span>mid<span class="token punctuation">]</span> <span class="token operator">&lt;=</span> max_cake_price<span class="token punctuation">:</span>
            low <span class="token operator">=</span> mid <span class="token operator">+</span> <span class="token number">1</span>  <span class="token comment"># 尝试找到更大的值</span>
        <span class="token keyword">else</span><span class="token punctuation">:</span>
            high <span class="token operator">=</span> mid <span class="token operator">-</span> <span class="token number">1</span>

    <span class="token comment"># high指向的是最后一个小于等于 maxCakePrice 的位置</span>
    total_solutions <span class="token operator">+=</span> high <span class="token operator">+</span> <span class="token number">1</span>

<span class="token comment"># 输出满足条件的方案总数</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>total_solutions<span class="token punctuation">)</span>
</code></pre> 
<h2><a id="JavaScript_187"></a>JavaScript</h2> 
<pre><code class="prism language-js"><span class="token comment">// 引入 readline 模块，用于获取用户输入</span>
<span class="token keyword">const</span> readline <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'readline'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">createInterface</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
  input<span class="token operator">:</span> process<span class="token punctuation">.</span>stdin<span class="token punctuation">,</span>
  output<span class="token operator">:</span> process<span class="token punctuation">.</span>stdout
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 获取并处理用户输入</span>
readline<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'line'</span><span class="token punctuation">,</span> <span class="token parameter">cakeInput</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
  readline<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'line'</span><span class="token punctuation">,</span> <span class="token parameter">giftInput</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
    readline<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'line'</span><span class="token punctuation">,</span> <span class="token parameter">budgetInput</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
      
      <span class="token comment">// 将输入转为整数数组</span>
      <span class="token keyword">const</span> cakePrices <span class="token operator">=</span> cakeInput<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">','</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>Number<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> a <span class="token operator">-</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">const</span> giftPrices <span class="token operator">=</span> giftInput<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">','</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>Number<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">const</span> budget <span class="token operator">=</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>budgetInput<span class="token punctuation">)</span><span class="token punctuation">;</span>

      <span class="token keyword">let</span> totalSolutions <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

      <span class="token comment">// 遍历每个礼物价格</span>
      giftPrices<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">giftPrice</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// 如果礼物价格超过或等于预算，跳过该礼物</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>giftPrice <span class="token operator">&gt;=</span> budget<span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>

        <span class="token comment">// 计算最大蛋糕价格</span>
        <span class="token keyword">const</span> maxCakePrice <span class="token operator">=</span> budget <span class="token operator">-</span> giftPrice<span class="token punctuation">;</span>

        <span class="token comment">// 二分查找最后一个小于等于 maxCakePrice 的蛋糕价格位置</span>
        <span class="token keyword">let</span> low <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> high <span class="token operator">=</span> cakePrices<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span>low <span class="token operator">&lt;=</span> high<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
          <span class="token keyword">const</span> mid <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span><span class="token punctuation">(</span>low <span class="token operator">+</span> high<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span>cakePrices<span class="token punctuation">[</span>mid<span class="token punctuation">]</span> <span class="token operator">&lt;=</span> maxCakePrice<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            low <span class="token operator">=</span> mid <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">// 尝试找到更大的值</span>
          <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
            high <span class="token operator">=</span> mid <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>

        <span class="token comment">// high 指向的是最后一个小于等于 maxCakePrice 的位置</span>
        totalSolutions <span class="token operator">+=</span> high <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

      <span class="token comment">// 输出满足条件的方案总数</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>totalSolutions<span class="token punctuation">)</span><span class="token punctuation">;</span>
      readline<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<h2><a id="C_240"></a>C++</h2> 
<pre><code class="prism language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;vector&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;algorithm&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;sstream&gt;</span></span>

using namespace std<span class="token punctuation">;</span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    string cakeInput<span class="token punctuation">,</span> giftInput<span class="token punctuation">;</span>
    <span class="token keyword">int</span> budget<span class="token punctuation">;</span>

    <span class="token comment">// 输入蛋糕价格</span>
    <span class="token function">getline</span><span class="token punctuation">(</span>cin<span class="token punctuation">,</span> cakeInput<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 输入礼物价格</span>
    <span class="token function">getline</span><span class="token punctuation">(</span>cin<span class="token punctuation">,</span> giftInput<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 输入预算</span>
    cin <span class="token operator">&gt;&gt;</span> budget<span class="token punctuation">;</span>

    <span class="token comment">// 解析输入并排序蛋糕价格</span>
    vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> cakePrices<span class="token punctuation">;</span>
    stringstream <span class="token function">ssCake</span><span class="token punctuation">(</span>cakeInput<span class="token punctuation">)</span><span class="token punctuation">;</span>
    string temp<span class="token punctuation">;</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token function">getline</span><span class="token punctuation">(</span>ssCake<span class="token punctuation">,</span> temp<span class="token punctuation">,</span> <span class="token string">','</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        cakePrices<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token function">stoi</span><span class="token punctuation">(</span>temp<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token function">sort</span><span class="token punctuation">(</span>cakePrices<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> cakePrices<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 解析礼物价格</span>
    vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> giftPrices<span class="token punctuation">;</span>
    stringstream <span class="token function">ssGift</span><span class="token punctuation">(</span>giftInput<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token function">getline</span><span class="token punctuation">(</span>ssGift<span class="token punctuation">,</span> temp<span class="token punctuation">,</span> <span class="token string">','</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        giftPrices<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token function">stoi</span><span class="token punctuation">(</span>temp<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">long</span> totalSolutions <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

    <span class="token comment">// 遍历每个礼物价格</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> giftPrice <span class="token operator">:</span> giftPrices<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// 如果礼物价格超过或等于预算，跳过该礼物</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>giftPrice <span class="token operator">&gt;=</span> budget<span class="token punctuation">)</span> <span class="token keyword">continue</span><span class="token punctuation">;</span>

        <span class="token comment">// 计算最大允许的蛋糕价格</span>
        <span class="token keyword">int</span> maxCakePrice <span class="token operator">=</span> budget <span class="token operator">-</span> giftPrice<span class="token punctuation">;</span>

        <span class="token comment">// 二分查找最后一个小于等于 maxCakePrice 的位置</span>
        <span class="token keyword">int</span> low <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> high <span class="token operator">=</span> cakePrices<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span>low <span class="token operator">&lt;=</span> high<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">int</span> mid <span class="token operator">=</span> <span class="token punctuation">(</span>low <span class="token operator">+</span> high<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>cakePrices<span class="token punctuation">[</span>mid<span class="token punctuation">]</span> <span class="token operator">&lt;=</span> maxCakePrice<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                low <span class="token operator">=</span> mid <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">// 尝试找到更大的值</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
                high <span class="token operator">=</span> mid <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>

        <span class="token comment">// high 指向的是最后一个小于等于 maxCakePrice 的位置</span>
        totalSolutions <span class="token operator">+=</span> high <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 输出满足条件的方案总数</span>
    cout <span class="token operator">&lt;&lt;</span> totalSolutions <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h2><a id="C_310"></a>C语言</h2> 
<pre><code class="prism language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdlib.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;string.h&gt;</span> </span>
<span class="token comment">// 比较函数，用于qsort对数组排序</span>
<span class="token keyword">int</span> <span class="token function">compare</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">void</span> <span class="token operator">*</span>a<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">void</span> <span class="token operator">*</span>b<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">(</span><span class="token keyword">int</span> <span class="token operator">*</span><span class="token punctuation">)</span>a <span class="token operator">-</span> <span class="token operator">*</span><span class="token punctuation">(</span><span class="token keyword">int</span> <span class="token operator">*</span><span class="token punctuation">)</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">// 输入和数据处理</span>
    <span class="token keyword">char</span> cakeInput<span class="token punctuation">[</span><span class="token number">100</span><span class="token punctuation">]</span><span class="token punctuation">,</span> giftInput<span class="token punctuation">[</span><span class="token number">100</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> budget<span class="token punctuation">;</span>

    <span class="token function">fgets</span><span class="token punctuation">(</span>cakeInput<span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>cakeInput<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token constant">stdin</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token function">fgets</span><span class="token punctuation">(</span>giftInput<span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>giftInput<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token constant">stdin</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>budget<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 解析和处理蛋糕价格</span>
    <span class="token keyword">int</span> cakePrices<span class="token punctuation">[</span><span class="token number">100</span><span class="token punctuation">]</span><span class="token punctuation">,</span> cakeCount <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">char</span> <span class="token operator">*</span>token <span class="token operator">=</span> <span class="token function">strtok</span><span class="token punctuation">(</span>cakeInput<span class="token punctuation">,</span> <span class="token string">","</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>token <span class="token operator">!=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        cakePrices<span class="token punctuation">[</span>cakeCount<span class="token operator">++</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">atoi</span><span class="token punctuation">(</span>token<span class="token punctuation">)</span><span class="token punctuation">;</span>
        token <span class="token operator">=</span> <span class="token function">strtok</span><span class="token punctuation">(</span><span class="token constant">NULL</span><span class="token punctuation">,</span> <span class="token string">","</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token function">qsort</span><span class="token punctuation">(</span>cakePrices<span class="token punctuation">,</span> cakeCount<span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">,</span> compare<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 解析和处理礼物价格</span>
    <span class="token keyword">int</span> giftPrices<span class="token punctuation">[</span><span class="token number">100</span><span class="token punctuation">]</span><span class="token punctuation">,</span> giftCount <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    token <span class="token operator">=</span> <span class="token function">strtok</span><span class="token punctuation">(</span>giftInput<span class="token punctuation">,</span> <span class="token string">","</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>token <span class="token operator">!=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        giftPrices<span class="token punctuation">[</span>giftCount<span class="token operator">++</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">atoi</span><span class="token punctuation">(</span>token<span class="token punctuation">)</span><span class="token punctuation">;</span>
        token <span class="token operator">=</span> <span class="token function">strtok</span><span class="token punctuation">(</span><span class="token constant">NULL</span><span class="token punctuation">,</span> <span class="token string">","</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">long</span> totalSolutions <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

    <span class="token comment">// 遍历每个礼物价格</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> giftCount<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">int</span> giftPrice <span class="token operator">=</span> giftPrices<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
        
        <span class="token comment">// 如果礼物价格超过或等于预算，跳过该礼物</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>giftPrice <span class="token operator">&gt;=</span> budget<span class="token punctuation">)</span> <span class="token keyword">continue</span><span class="token punctuation">;</span>

        <span class="token comment">// 计算最大允许的蛋糕价格</span>
        <span class="token keyword">int</span> maxCakePrice <span class="token operator">=</span> budget <span class="token operator">-</span> giftPrice<span class="token punctuation">;</span>

        <span class="token comment">// 二分查找最后一个小于等于 maxCakePrice 的位置</span>
        <span class="token keyword">int</span> low <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> high <span class="token operator">=</span> cakeCount <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span>low <span class="token operator">&lt;=</span> high<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">int</span> mid <span class="token operator">=</span> <span class="token punctuation">(</span>low <span class="token operator">+</span> high<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>cakePrices<span class="token punctuation">[</span>mid<span class="token punctuation">]</span> <span class="token operator">&lt;=</span> maxCakePrice<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                low <span class="token operator">=</span> mid <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">// 尝试找到更大的值</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
                high <span class="token operator">=</span> mid <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>

        <span class="token comment">// high 指向的是最后一个小于等于 maxCakePrice 的位置</span>
        totalSolutions <span class="token operator">+=</span> high <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 输出满足条件的方案总数</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%ld\n"</span><span class="token punctuation">,</span> totalSolutions<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p><img src="https://img-blog.csdnimg.cn/img_convert/daab56c7491e833eb6ea3cb75d3cd2ec.png" alt="fengmian"></p> 
<h4><a id="_389"></a>完整用例</h4> 
<h5><a id="1_391"></a>用例1</h5> 
<pre><code class="prism language-input1">10,20,5
5,5,2
15
</code></pre> 
<h5><a id="2_399"></a>用例2</h5> 
<pre><code class="prism language-input2">1,2,3,4,5
1,2,3,4,5
5
</code></pre> 
<h5><a id="3_407"></a>用例3</h5> 
<pre><code class="prism language-input3">100,200,300
50,100,150
250
</code></pre> 
<h5><a id="4_415"></a>用例4</h5> 
<pre><code class="prism language-input4">1,2,3,4,5
1,2,3,4,5
10
</code></pre> 
<h5><a id="5_423"></a>用例5</h5> 
<pre><code class="prism language-input5">10,20,30
5,10,15
35
</code></pre> 
<h5><a id="6_431"></a>用例6</h5> 
<pre><code class="prism language-input6">1,3,5,7,9
2,4,6,8,10
10
</code></pre> 
<h5><a id="7_439"></a>用例7</h5> 
<pre><code class="prism language-input7">100,200,300,400,500
50,100,150,200,250
450
</code></pre> 
<h5><a id="8_447"></a>用例8</h5> 
<pre><code class="prism language-input8">1,2,3,4,5,6,7,8,9
1,2,3,4,5,6,7,8,9
9
</code></pre> 
<h5><a id="9_455"></a>用例9</h5> 
<pre><code class="prism language-input9">10,20,30,40,50
5,10,15,20,25
60
</code></pre> 
<h5><a id="10_463"></a>用例10</h5> 
<pre><code class="prism language-input10">1,2,3,4,5,6,7,8,9,10
1,2,3,4,5,6,7,8,9,10
20
</code></pre>
                </div>
</body>
</html>

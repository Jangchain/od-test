
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Document</title>
</head>
<body>
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h2><a id="OD_1"></a>最新华为OD机试</h2> 
<p><font color="RED">真题目录：<a href="https://blog.csdn.net/banxia_frontend/article/details/129640773">点击查看目录</a> </font><br> <font color="RED"> 华为OD面试真题精选：<a href="https://blog.csdn.net/banxia_frontend/category_12436481.html">点击立即查看</a></font></p> 
<h2><a id="_5"></a>题目描述</h2> 
<p>公司创新实验室正在研究如何最小化资源成本，最大化资源利用率，请你设计算法帮他们解决一个任务混部问题：</p> 
<p>有taskNum项任务，每个任务有开始时间（startTime），结束时间（endTime），并行度（parallelism）三个属性，</p> 
<p>并行度是指这个任务运行时将会占用的<a href="https://so.csdn.net/so/search?q=%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;spm=1001.2101.3001.7020">服务器</a>数量，一个服务器在每个时刻可以被任意任务使用但最多被一个任务占用，任务运行完成立即释放（结束时刻不占用）。</p> 
<p>任务混部问题是指给定一批任务，让这批任务由同一批服务器承载运行，</p> 
<p>请你计算完成这批任务混部最少需要多少服务器，从而最大化控制资源成本。</p> 
<h2><a id="_17"></a>输入描述</h2> 
<p>第一行输入为taskNum，表示有taskNum项任务<br> 接下来taskNum行，每行三个整数，表示每个任务的</p> 
<p>开始时间（startTime ），结束时间（endTime ），并行度（parallelism）</p> 
<h5><a id="_24"></a>备注</h5> 
<ul><li><code>1 &lt;= taskNum &lt;= 100000</code></li><li><code>0 &lt;= startTime &lt; endTime &lt;= 50000</code></li><li><code>1 &lt;= parallelism &lt;= 100</code></li></ul> 
<h2><a id="_31"></a>输出描述</h2> 
<p>一个整数，表示最少需要的服务器数量</p> 
<h2><a id="1_35"></a>示例1</h2> 
<p>输入</p> 
<pre><code>3
2 3 1
6 9 2
0 5 1
</code></pre> 
<p>输出</p> 
<pre><code>2
</code></pre> 
<p>说明</p> 
<blockquote> 
 <p>一共有三个任务，</p> 
 <p>第一个任务在时间区间[2, 3]运行，占用1个服务器，<br> 第二个任务在时间区间[6, 9]运行，占用2个服务器，<br> 第三个任务在时间区间[0, 5]运行，占用1个服务器，<br> 需要最多服务器的时间区间为[2, 3]和[6, 9]，需要2个服务器。</p> 
</blockquote> 
<h2><a id="2_61"></a>示例2</h2> 
<p>输入</p> 
<pre><code>2
3 9 2
4 7 3
</code></pre> 
<p>输出</p> 
<pre><code>5
</code></pre> 
<p>说明</p> 
<blockquote> 
 <p>一共两个任务，</p> 
 <p>第一个任务在时间区间[3, 9]运行，占用2个服务器，<br> 第二个任务在时间区间[4, 7]运行，占用3个服务器，<br> 需要最多服务器的时间区间为[4, 7]，需要5个服务器。</p> 
</blockquote> 
<h2><a id="_85"></a>解题思路</h2> 
<p>公司希望在完成任务的同时尽可能节省服务器资源。每个任务有三项属性：</p> 
<ol><li><strong>开始时间 (startTime)</strong>：任务开始运行的时刻。</li><li><strong>结束时间 (endTime)</strong>：任务停止运行的时刻（任务结束时不再占用资源）。</li><li><strong>并行度 (parallelism)</strong>：任务运行时所需的服务器数量。</li></ol> 
<p>题目要求找出在任务运行的某一时刻服务器需求量的峰值，即所有任务运行过程中需要的最少服务器数量。</p> 
<h4><a id="_97"></a>分析：</h4> 
<ul><li>我们有<code>taskNum</code>项任务。每个任务在其指定的时间区间内占用一定数量的服务器。</li><li>要完成所有任务，整个过程中需要的服务器数量取决于各任务的重叠情况。服务器需求量最大的那个时刻决定了最小需要的服务器数量。</li></ul> 
<h4><a id="_101"></a>解题思路：</h4> 
<p>利用扫描线算法（差分数组或事件驱动法）求解各时间点的服务器需求量并找出最高峰。</p> 
<h2><a id="Java_104"></a>Java</h2> 
<pre><code class="prism language-java"><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Scanner</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">ArrayList</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Collections</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">List</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">Main</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">Scanner</span> scanner <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Scanner</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span>in<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> taskNum <span class="token operator">=</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">parseInt</span><span class="token punctuation">(</span>scanner<span class="token punctuation">.</span><span class="token function">nextLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">List</span><span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">&gt;</span> events <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 读取输入，并创建开始和结束的事件</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> taskNum<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> task <span class="token operator">=</span> scanner<span class="token punctuation">.</span><span class="token function">nextLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">" "</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">int</span> start <span class="token operator">=</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">parseInt</span><span class="token punctuation">(</span>task<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">int</span> end <span class="token operator">=</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">parseInt</span><span class="token punctuation">(</span>task<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">int</span> parallelism <span class="token operator">=</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">parseInt</span><span class="token punctuation">(</span>task<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            
            <span class="token comment">// 添加开始事件 (增加服务器需求)</span>
            events<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">{<!-- --></span>start<span class="token punctuation">,</span> parallelism<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">// 添加结束事件 (减少服务器需求)</span>
            events<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">{<!-- --></span>end<span class="token punctuation">,</span> <span class="token operator">-</span>parallelism<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token comment">// 按时间排序，若时间相同，先处理增加服务器的事件</span>
        <span class="token class-name">Collections</span><span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span>events<span class="token punctuation">,</span> <span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> a<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">==</span> b<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">?</span> b<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">-</span> a<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">:</span> a<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">-</span> b<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">int</span> maxServers <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> currentServers <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token comment">// 处理每一个事件</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> event <span class="token operator">:</span> events<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            currentServers <span class="token operator">+=</span> event<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
            maxServers <span class="token operator">=</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>maxServers<span class="token punctuation">,</span> currentServers<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>maxServers<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<h2><a id="Python_146"></a>Python</h2> 
<pre><code class="prism language-python"><span class="token comment"># 导入 sys 模块以便读取输入</span>
<span class="token keyword">import</span> sys

<span class="token comment"># 读取任务数量</span>
task_num <span class="token operator">=</span> <span class="token builtin">int</span><span class="token punctuation">(</span>sys<span class="token punctuation">.</span>stdin<span class="token punctuation">.</span>readline<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>strip<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
events <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>

<span class="token comment"># 读取每个任务，并创建开始和结束的事件</span>
<span class="token keyword">for</span> _ <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>task_num<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token comment"># 读取一行输入并分割为三个值</span>
    start<span class="token punctuation">,</span> end<span class="token punctuation">,</span> parallelism <span class="token operator">=</span> <span class="token builtin">map</span><span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">,</span> sys<span class="token punctuation">.</span>stdin<span class="token punctuation">.</span>readline<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>strip<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    
    <span class="token comment"># 添加开始事件 (增加服务器需求)</span>
    events<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token punctuation">(</span>start<span class="token punctuation">,</span> parallelism<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token comment"># 添加结束事件 (减少服务器需求)</span>
    events<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token punctuation">(</span>end<span class="token punctuation">,</span> <span class="token operator">-</span>parallelism<span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment"># 按时间排序，若时间相同，优先处理增加服务器的事件</span>
events<span class="token punctuation">.</span>sort<span class="token punctuation">(</span>key<span class="token operator">=</span><span class="token keyword">lambda</span> x<span class="token punctuation">:</span> <span class="token punctuation">(</span>x<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token operator">-</span>x<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

max_servers <span class="token operator">=</span> <span class="token number">0</span>  <span class="token comment"># 记录最大服务器需求</span>
current_servers <span class="token operator">=</span> <span class="token number">0</span>  <span class="token comment"># 当前的服务器需求量</span>

<span class="token comment"># 处理每个事件</span>
<span class="token keyword">for</span> time<span class="token punctuation">,</span> change <span class="token keyword">in</span> events<span class="token punctuation">:</span>
    current_servers <span class="token operator">+=</span> change  <span class="token comment"># 更新当前的服务器需求</span>
    max_servers <span class="token operator">=</span> <span class="token builtin">max</span><span class="token punctuation">(</span>max_servers<span class="token punctuation">,</span> current_servers<span class="token punctuation">)</span>  <span class="token comment"># 更新最大需求</span>

<span class="token comment"># 输出最终所需的最大服务器数量</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>max_servers<span class="token punctuation">)</span>
</code></pre> 
<h2><a id="JavaScript_180"></a>JavaScript</h2> 
<pre><code class="prism language-js"><span class="token comment">// 读取输入</span>
<span class="token keyword">const</span> readline <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'readline'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> rl <span class="token operator">=</span> readline<span class="token punctuation">.</span><span class="token function">createInterface</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
    input<span class="token operator">:</span> process<span class="token punctuation">.</span>stdin<span class="token punctuation">,</span>
    output<span class="token operator">:</span> process<span class="token punctuation">.</span>stdout
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> input <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
rl<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'line'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">line</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> input<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>line<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
rl<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'close'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">// 读取任务数量</span>
    <span class="token keyword">const</span> taskNum <span class="token operator">=</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>input<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> events <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

    <span class="token comment">// 读取每个任务，创建开始和结束事件</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> taskNum<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">let</span> <span class="token punctuation">[</span>start<span class="token punctuation">,</span> end<span class="token punctuation">,</span> parallelism<span class="token punctuation">]</span> <span class="token operator">=</span> input<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">' '</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>Number<span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token comment">// 添加开始事件 (增加服务器需求)</span>
        events<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">[</span>start<span class="token punctuation">,</span> parallelism<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 添加结束事件 (减少服务器需求)</span>
        events<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">[</span>end<span class="token punctuation">,</span> <span class="token operator">-</span>parallelism<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 按时间排序，如果时间相同，优先处理增加服务器的事件</span>
    events<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> a<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">===</span> b<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">?</span> b<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">-</span> a<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">:</span> a<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">-</span> b<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">let</span> maxServers <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment">// 最大服务器需求</span>
    <span class="token keyword">let</span> currentServers <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment">// 当前服务器需求</span>

    <span class="token comment">// 处理每个事件</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> <span class="token punctuation">[</span>time<span class="token punctuation">,</span> change<span class="token punctuation">]</span> <span class="token keyword">of</span> events<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        currentServers <span class="token operator">+=</span> change<span class="token punctuation">;</span> <span class="token comment">// 更新当前服务器需求</span>
        maxServers <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>maxServers<span class="token punctuation">,</span> currentServers<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 更新最大需求</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 输出最大服务器数量</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>maxServers<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<h2><a id="C_225"></a>C++</h2> 
<pre><code class="prism language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;vector&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;algorithm&gt;</span></span>
using namespace std<span class="token punctuation">;</span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">int</span> taskNum<span class="token punctuation">;</span>
    cin <span class="token operator">&gt;&gt;</span> taskNum<span class="token punctuation">;</span> <span class="token comment">// 读取任务数量</span>
    vector<span class="token operator">&lt;</span>pair<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token operator">&gt;&gt;</span> events<span class="token punctuation">;</span>

    <span class="token comment">// 读取每个任务，创建开始和结束事件</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> taskNum<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">int</span> start<span class="token punctuation">,</span> end<span class="token punctuation">,</span> parallelism<span class="token punctuation">;</span>
        cin <span class="token operator">&gt;&gt;</span> start <span class="token operator">&gt;&gt;</span> end <span class="token operator">&gt;&gt;</span> parallelism<span class="token punctuation">;</span>

        <span class="token comment">// 添加开始事件 (增加服务器需求)</span>
        events<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>start<span class="token punctuation">,</span> parallelism<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 添加结束事件 (减少服务器需求)</span>
        events<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>end<span class="token punctuation">,</span> <span class="token operator">-</span>parallelism<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 按时间排序，如果时间相同，优先处理增加服务器的事件</span>
    <span class="token function">sort</span><span class="token punctuation">(</span>events<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> events<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token keyword">const</span> pair<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token operator">&gt;</span><span class="token operator">&amp;</span> a<span class="token punctuation">,</span> <span class="token keyword">const</span> pair<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token operator">&gt;</span><span class="token operator">&amp;</span> b<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> a<span class="token punctuation">.</span>first <span class="token operator">==</span> b<span class="token punctuation">.</span>first <span class="token operator">?</span> a<span class="token punctuation">.</span>second <span class="token operator">&gt;</span> b<span class="token punctuation">.</span>second <span class="token operator">:</span> a<span class="token punctuation">.</span>first <span class="token operator">&lt;</span> b<span class="token punctuation">.</span>first<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">int</span> maxServers <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment">// 最大服务器需求</span>
    <span class="token keyword">int</span> currentServers <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment">// 当前服务器需求</span>

    <span class="token comment">// 处理每个事件</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">auto</span><span class="token operator">&amp;</span> event <span class="token operator">:</span> events<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        currentServers <span class="token operator">+=</span> event<span class="token punctuation">.</span>second<span class="token punctuation">;</span> <span class="token comment">// 更新当前服务器需求</span>
        maxServers <span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span>maxServers<span class="token punctuation">,</span> currentServers<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 更新最大需求</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 输出最大服务器数量</span>
    cout <span class="token operator">&lt;&lt;</span> maxServers <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>

    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h2><a id="C_270"></a>C语言</h2> 
<pre><code class="prism language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdlib.h&gt;</span></span>

<span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">int</span> time<span class="token punctuation">;</span>
    <span class="token keyword">int</span> change<span class="token punctuation">;</span>
<span class="token punctuation">}</span> Event<span class="token punctuation">;</span>

<span class="token comment">// 比较函数，用于按时间排序事件，若时间相同则先处理增加服务器事件</span>
<span class="token keyword">int</span> <span class="token function">compare</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">void</span><span class="token operator">*</span> a<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">void</span><span class="token operator">*</span> b<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    Event<span class="token operator">*</span> ea <span class="token operator">=</span> <span class="token punctuation">(</span>Event<span class="token operator">*</span><span class="token punctuation">)</span>a<span class="token punctuation">;</span>
    Event<span class="token operator">*</span> eb <span class="token operator">=</span> <span class="token punctuation">(</span>Event<span class="token operator">*</span><span class="token punctuation">)</span>b<span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>ea<span class="token operator">-&gt;</span>time <span class="token operator">==</span> eb<span class="token operator">-&gt;</span>time<span class="token punctuation">)</span>
        <span class="token keyword">return</span> eb<span class="token operator">-&gt;</span>change <span class="token operator">-</span> ea<span class="token operator">-&gt;</span>change<span class="token punctuation">;</span>
    <span class="token keyword">return</span> ea<span class="token operator">-&gt;</span>time <span class="token operator">-</span> eb<span class="token operator">-&gt;</span>time<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">int</span> taskNum<span class="token punctuation">;</span>
    <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>taskNum<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 读取任务数量</span>
    Event events<span class="token punctuation">[</span>taskNum <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// 每个任务包含两个事件，开始和结束</span>

    <span class="token comment">// 读取每个任务并创建事件</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> taskNum<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">int</span> start<span class="token punctuation">,</span> end<span class="token punctuation">,</span> parallelism<span class="token punctuation">;</span>
        <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d %d %d"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>start<span class="token punctuation">,</span> <span class="token operator">&amp;</span>end<span class="token punctuation">,</span> <span class="token operator">&amp;</span>parallelism<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 添加开始事件 (增加服务器需求)</span>
        events<span class="token punctuation">[</span>i <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">.</span>time <span class="token operator">=</span> start<span class="token punctuation">;</span>
        events<span class="token punctuation">[</span>i <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">.</span>change <span class="token operator">=</span> parallelism<span class="token punctuation">;</span>

        <span class="token comment">// 添加结束事件 (减少服务器需求)</span>
        events<span class="token punctuation">[</span>i <span class="token operator">*</span> <span class="token number">2</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>time <span class="token operator">=</span> end<span class="token punctuation">;</span>
        events<span class="token punctuation">[</span>i <span class="token operator">*</span> <span class="token number">2</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>change <span class="token operator">=</span> <span class="token operator">-</span>parallelism<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 对所有事件按时间排序</span>
    <span class="token function">qsort</span><span class="token punctuation">(</span>events<span class="token punctuation">,</span> taskNum <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>Event<span class="token punctuation">)</span><span class="token punctuation">,</span> compare<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">int</span> maxServers <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment">// 记录最大服务器需求</span>
    <span class="token keyword">int</span> currentServers <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment">// 当前的服务器需求</span>

    <span class="token comment">// 处理每个事件</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> taskNum <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        currentServers <span class="token operator">+=</span> events<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>change<span class="token punctuation">;</span> <span class="token comment">// 更新当前服务器需求</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>currentServers <span class="token operator">&gt;</span> maxServers<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            maxServers <span class="token operator">=</span> currentServers<span class="token punctuation">;</span> <span class="token comment">// 更新最大需求</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 输出最大服务器数量</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span> maxServers<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p><img src="https://img-blog.csdnimg.cn/img_convert/cbc09e5164cea8bd60bca7b299fbc985.png" alt="fengmian"></p>
                </div>
</body>
</html>


<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Document</title>
</head>
<body>
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h2><a id="OD_0"></a>最新华为OD机试</h2> 
<p><font color="RED">真题目录：<a href="https://blog.csdn.net/banxia_frontend/article/details/129640773">点击查看目录</a> </font><br> <font color="RED"> 华为OD面试真题精选：<a href="https://blog.csdn.net/banxia_frontend/category_12436481.html">点击立即查看</a></font></p> 
<h2><a id="_4"></a>题目描述</h2> 
<p>近些年来，我国防沙治沙取得显著成果。某沙漠新种植N棵胡杨（编号1-N），排成一排。</p> 
<p>一个月后，有M棵胡杨未能成活。</p> 
<p>现可补种胡杨K棵，请问如何补种（只能补种，不能新种），可以得到最多的连续胡杨树？</p> 
<h2><a id="_13"></a>输入描述</h2> 
<p>N 总种植数量，1 &lt;= N &lt;= 100000</p> 
<p>M 未成活胡杨数量，M 个空格分隔的数，按编号从小到大排列，1 &lt;= M &lt;= N</p> 
<p>K 最多可以补种的数量，0 &lt;= K &lt;= M</p> 
<h2><a id="_21"></a>输出描述</h2> 
<p>最多的连续胡杨棵树</p> 
<h2><a id="1_25"></a>示例1</h2> 
<p>输入</p> 
<pre><code>5
2
2 4
1
</code></pre> 
<p>输出</p> 
<pre><code>3
</code></pre> 
<p>说明</p> 
<blockquote> 
 <p>补种到2或4结果一样，最多的连续胡杨棵树都是3。</p> 
</blockquote> 
<h2><a id="2_48"></a>示例2</h2> 
<p>输入</p> 
<pre><code>10
3
2 4 7
1
</code></pre> 
<p>输出</p> 
<pre><code>6
</code></pre> 
<p>说明</p> 
<blockquote> 
 <p>种第7棵树，最多连续胡杨树棵数位6（5，6，7，8，9，10）</p> 
</blockquote> 
<h2><a id="_70"></a>解题思路</h2> 
<p>这道题目主要是考察如何通过补种胡杨树，使得胡杨树形成【最长的连续序列】。</p> 
<h3><a id="_76"></a>示例解释</h3> 
<h4><a id="1_78"></a>示例1</h4> 
<p>输入：</p> 
<pre><code>5
2
2 4
1
</code></pre> 
<p>解释：</p> 
<ul><li>胡杨树总共有 5 棵，编号分别是 1, 2, 3, 4, 5。</li><li>未成活的胡杨树编号是 2 和 4。</li><li>只能补种 1 棵树。</li></ul> 
<p>选择补种位置：</p> 
<ul><li>可以补种编号为2的树，得到序列 <code>1, 2, 3</code>，最多连续 3 棵树。</li><li>或者补种编号为4的树，得到序列 <code>3, 4, 5</code>，同样可以得到最多连续 3 棵树。</li></ul> 
<p>因此，输出结果为 <code>3</code>。</p> 
<h4><a id="2_99"></a>示例2</h4> 
<p>输入：</p> 
<pre><code>10
3
2 4 7
1
</code></pre> 
<p>解释：</p> 
<ul><li>胡杨树总共有 10 棵，编号分别是 1 到 10。</li><li>未成活的胡杨树编号是 2, 4, 7。</li><li>只能补种 1 棵树。</li></ul> 
<p>选择补种位置：</p> 
<ul><li>如果补种编号为7的树，可以形成最长连续序列 <code>5, 6, 7, 8, 9, 10</code>，连续的胡杨树棵数为 <code>6</code>。</li><li>其他补种选择（如2或4）得到的最长连续胡杨树棵数较少。</li></ul> 
<p>因此，输出结果为 <code>6</code>。</p> 
<h3><a id="_120"></a>代码思路</h3> 
<p>基本与下题一致：</p> 
<p><a href="https://leetcode.cn/problems/max-consecutive-ones-iii/" rel="nofollow">1004. 最大连续1的个数 III</a></p> 
<p>参考题解：https://leetcode.cn/problems/max-consecutive-ones-iii/solutions/608931/zui-da-lian-xu-1de-ge-shu-iii-by-leetcod-hw12/</p> 
<h2><a id="_128"></a>双指针解法，容易理解</h2> 
<h2><a id="Java_130"></a>Java</h2> 
<pre><code class="prism language-java"><span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Main</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// 创建一个扫描器对象，用于读取输入</span>
        <span class="token class-name">Scanner</span> scanner <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Scanner</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span>in<span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token comment">// 读取总共的胡杨树数量</span>
        <span class="token keyword">int</span> total <span class="token operator">=</span> scanner<span class="token punctuation">.</span><span class="token function">nextInt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token comment">// 读取未成活的胡杨树数量</span>
        <span class="token keyword">int</span> deadCount <span class="token operator">=</span> scanner<span class="token punctuation">.</span><span class="token function">nextInt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token comment">// 创建一个数组来表示每棵树是否成活，0表示成活，1表示未成活</span>
        <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> nums <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span>total<span class="token punctuation">]</span><span class="token punctuation">;</span>
        
        <span class="token comment">// 初始化数组，所有元素设为0，表示所有树最初都是成活的</span>
        <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span>nums<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 
        <span class="token comment">// 根据输入，将未成活的树的位置标记为1</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> deadCount<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">int</span> num <span class="token operator">=</span> scanner<span class="token punctuation">.</span><span class="token function">nextInt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            nums<span class="token punctuation">[</span>num <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">// 树的编号从1开始，因此需要减1</span>
        <span class="token punctuation">}</span>
        
        <span class="token comment">// 读取可以补种的树的数量</span>
        <span class="token keyword">int</span> supplementCount <span class="token operator">=</span> scanner<span class="token punctuation">.</span><span class="token function">nextInt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token comment">// 初始化滑动窗口的左右边界</span>
        <span class="token keyword">int</span> left <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> maxLen <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment">// 用于存储最大连续成活区域的长度</span>
        <span class="token keyword">int</span> sumLeft <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment">// 滑动窗口左边界的未成活树数量</span>
        <span class="token keyword">int</span> sumRight <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment">// 滑动窗口右边界的未成活树数量</span>
        
        <span class="token comment">// 遍历所有的树，right代表滑动窗口的右边界</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> right <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> right <span class="token operator">&lt;</span> total<span class="token punctuation">;</span> right<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            sumRight <span class="token operator">+=</span> nums<span class="token punctuation">[</span>right<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// 更新右边界的未成活树数量</span>
            
            <span class="token comment">// 如果窗口内的未成活树数量大于可以补种的数量</span>
            <span class="token keyword">while</span> <span class="token punctuation">(</span>sumRight <span class="token operator">-</span> sumLeft <span class="token operator">&gt;</span> supplementCount<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                sumLeft <span class="token operator">+=</span> nums<span class="token punctuation">[</span>left<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// 缩小窗口，左边界右移</span>
                left<span class="token operator">++</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            
            <span class="token comment">// 更新最大成活区域的长度</span>
            maxLen <span class="token operator">=</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>maxLen<span class="token punctuation">,</span> right <span class="token operator">-</span> left <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        
        <span class="token comment">// 输出最大连续成活区域的长度</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>maxLen<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<h2><a id="Python_187"></a>Python</h2> 
<pre><code class="prism language-python"><span class="token comment"># 读取胡杨树的总数N</span>
total <span class="token operator">=</span> <span class="token builtin">int</span><span class="token punctuation">(</span><span class="token builtin">input</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment"># 读取未成活胡杨树的数量M</span>
dead_count <span class="token operator">=</span> <span class="token builtin">int</span><span class="token punctuation">(</span><span class="token builtin">input</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment"># 读取未成活胡杨树的编号列表</span>
dead_list <span class="token operator">=</span> <span class="token builtin">list</span><span class="token punctuation">(</span><span class="token builtin">map</span><span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">,</span> <span class="token builtin">input</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment"># 读取可以补种的胡杨树数量K</span>
supplement_count <span class="token operator">=</span> <span class="token builtin">int</span><span class="token punctuation">(</span><span class="token builtin">input</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment"># 初始化数组，所有树最初都是成活的，0表示成活，1表示未成活</span>
nums <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">*</span> total

<span class="token comment"># 根据输入，将未成活的树的位置标记为1</span>
<span class="token keyword">for</span> num <span class="token keyword">in</span> dead_list<span class="token punctuation">:</span>
    nums<span class="token punctuation">[</span>num <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span>  <span class="token comment"># 树的编号从1开始，因此需要减1</span>

<span class="token comment"># 初始化滑动窗口的左右边界</span>
left <span class="token operator">=</span> <span class="token number">0</span>
max_len <span class="token operator">=</span> <span class="token number">0</span>  <span class="token comment"># 用于存储最大连续成活区域的长度</span>
sum_left <span class="token operator">=</span> <span class="token number">0</span>  <span class="token comment"># 滑动窗口左边界的未成活树数量</span>
sum_right <span class="token operator">=</span> <span class="token number">0</span>  <span class="token comment"># 滑动窗口右边界的未成活树数量</span>

<span class="token comment"># 遍历所有的树，right代表滑动窗口的右边界</span>
<span class="token keyword">for</span> right <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>total<span class="token punctuation">)</span><span class="token punctuation">:</span>
    sum_right <span class="token operator">+=</span> nums<span class="token punctuation">[</span>right<span class="token punctuation">]</span>  <span class="token comment"># 更新右边界的未成活树数量</span>
    
    <span class="token comment"># 如果窗口内的未成活树数量大于可以补种的数量</span>
    <span class="token keyword">while</span> sum_right <span class="token operator">-</span> sum_left <span class="token operator">&gt;</span> supplement_count<span class="token punctuation">:</span>
        sum_left <span class="token operator">+=</span> nums<span class="token punctuation">[</span>left<span class="token punctuation">]</span>  <span class="token comment"># 缩小窗口，左边界右移</span>
        left <span class="token operator">+=</span> <span class="token number">1</span>
    
    <span class="token comment"># 更新最大成活区域的长度</span>
    max_len <span class="token operator">=</span> <span class="token builtin">max</span><span class="token punctuation">(</span>max_len<span class="token punctuation">,</span> right <span class="token operator">-</span> left <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span>

<span class="token comment"># 输出最大连续成活区域的长度</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>max_len<span class="token punctuation">)</span>
</code></pre> 
<h2><a id="JavaScript_231"></a>JavaScript</h2> 
<pre><code class="prism language-js"><span class="token keyword">const</span> readline <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'readline'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


<span class="token keyword">const</span> rl <span class="token operator">=</span> readline<span class="token punctuation">.</span><span class="token function">createInterface</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
    <span class="token literal-property property">input</span><span class="token operator">:</span> process<span class="token punctuation">.</span>stdin<span class="token punctuation">,</span>
    <span class="token literal-property property">output</span><span class="token operator">:</span> process<span class="token punctuation">.</span>stdout
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> inputLines <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
rl<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'line'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">input</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
    inputLines<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>input<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

rl<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'close'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">// 读取胡杨树的总数N</span>
    <span class="token keyword">const</span> total <span class="token operator">=</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>inputLines<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 读取未成活胡杨树的数量M</span>
    <span class="token keyword">const</span> deadCount <span class="token operator">=</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>inputLines<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 读取未成活胡杨树的编号列表</span>
    <span class="token keyword">const</span> deadList <span class="token operator">=</span> inputLines<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">' '</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>Number<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 读取可以补种的胡杨树数量K</span>
    <span class="token keyword">const</span> supplementCount <span class="token operator">=</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>inputLines<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 初始化数组，所有树最初都是成活的，0表示成活，1表示未成活</span>
    <span class="token keyword">const</span> nums <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span>total<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 根据输入，将未成活的树的位置标记为1</span>
    deadList<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">num</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
        nums<span class="token punctuation">[</span>num <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">// 树的编号从1开始，因此需要减1</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 初始化滑动窗口的左右边界</span>
    <span class="token keyword">let</span> left <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> maxLen <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment">// 用于存储最大连续成活区域的长度</span>
    <span class="token keyword">let</span> sumLeft <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment">// 滑动窗口左边界的未成活树数量</span>
    <span class="token keyword">let</span> sumRight <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment">// 滑动窗口右边界的未成活树数量</span>

    <span class="token comment">// 遍历所有的树，right代表滑动窗口的右边界</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> right <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> right <span class="token operator">&lt;</span> total<span class="token punctuation">;</span> right<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        sumRight <span class="token operator">+=</span> nums<span class="token punctuation">[</span>right<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// 更新右边界的未成活树数量</span>
        
        <span class="token comment">// 如果窗口内的未成活树数量大于可以补种的数量</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span>sumRight <span class="token operator">-</span> sumLeft <span class="token operator">&gt;</span> supplementCount<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            sumLeft <span class="token operator">+=</span> nums<span class="token punctuation">[</span>left<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// 缩小窗口，左边界右移</span>
            left<span class="token operator">++</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        
        <span class="token comment">// 更新最大成活区域的长度</span>
        maxLen <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>maxLen<span class="token punctuation">,</span> right <span class="token operator">-</span> left <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 输出最大连续成活区域的长度</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>maxLen<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<h2><a id="C_294"></a>C++</h2> 
<pre><code class="prism language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;vector&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;algorithm&gt;</span> </span>

using namespace std<span class="token punctuation">;</span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">int</span> total<span class="token punctuation">,</span> deadCount<span class="token punctuation">;</span>
    cin <span class="token operator">&gt;&gt;</span> total <span class="token operator">&gt;&gt;</span> deadCount<span class="token punctuation">;</span>

    <span class="token comment">// 初始化数组，所有树最初都是成活的，0表示成活，1表示未成活</span>
    vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> <span class="token function">nums</span><span class="token punctuation">(</span>total<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 根据输入，将未成活的树的位置标记为1</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> deadCount<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">int</span> num<span class="token punctuation">;</span>
        cin <span class="token operator">&gt;&gt;</span> num<span class="token punctuation">;</span>
        nums<span class="token punctuation">[</span>num <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">// 树的编号从1开始，因此需要减1</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 读取可以补种的树的数量</span>
    <span class="token keyword">int</span> supplementCount<span class="token punctuation">;</span>
    cin <span class="token operator">&gt;&gt;</span> supplementCount<span class="token punctuation">;</span>

    <span class="token comment">// 初始化滑动窗口的左右边界</span>
    <span class="token keyword">int</span> left <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> maxLen <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> sumLeft <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> sumRight <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

    <span class="token comment">// 遍历所有的树，right代表滑动窗口的右边界</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> right <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> right <span class="token operator">&lt;</span> total<span class="token punctuation">;</span> right<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        sumRight <span class="token operator">+=</span> nums<span class="token punctuation">[</span>right<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// 更新右边界的未成活树数量</span>

        <span class="token comment">// 如果窗口内的未成活树数量大于可以补种的数量</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span>sumRight <span class="token operator">-</span> sumLeft <span class="token operator">&gt;</span> supplementCount<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            sumLeft <span class="token operator">+=</span> nums<span class="token punctuation">[</span>left<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// 缩小窗口，左边界右移</span>
            left<span class="token operator">++</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token comment">// 更新最大成活区域的长度</span>
        maxLen <span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span>maxLen<span class="token punctuation">,</span> right <span class="token operator">-</span> left <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 输出最大连续成活区域的长度</span>
    cout <span class="token operator">&lt;&lt;</span> maxLen <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>

    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h2><a id="C_345"></a>C语言</h2> 
<pre><code class="prism language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdlib.h&gt;</span></span>

<span class="token comment">// 定义一个max函数，用于求两个数中的最大值</span>
<span class="token keyword">int</span> <span class="token function">max</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span> <span class="token keyword">int</span> b<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>a <span class="token operator">&gt;</span> b<span class="token punctuation">)</span> <span class="token operator">?</span> a <span class="token operator">:</span> b<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">int</span> total<span class="token punctuation">,</span> deadCount<span class="token punctuation">;</span>

    <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d %d"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>total<span class="token punctuation">,</span> <span class="token operator">&amp;</span>deadCount<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 初始化数组，所有树最初都是成活的，0表示成活，1表示未成活</span>
    <span class="token keyword">int</span> <span class="token operator">*</span>nums <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">int</span> <span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">calloc</span><span class="token punctuation">(</span>total<span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 根据输入，将未成活的树的位置标记为1</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> deadCount<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">int</span> num<span class="token punctuation">;</span>
        <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>num<span class="token punctuation">)</span><span class="token punctuation">;</span>
        nums<span class="token punctuation">[</span>num <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">// 树的编号从1开始，因此需要减1</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 读取可以补种的树的数量</span>
    <span class="token keyword">int</span> supplementCount<span class="token punctuation">;</span>
    <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>supplementCount<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 初始化滑动窗口的左右边界</span>
    <span class="token keyword">int</span> left <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> maxLen <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> sumLeft <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> sumRight <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

    <span class="token comment">// 遍历所有的树，right代表滑动窗口的右边界</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> right <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> right <span class="token operator">&lt;</span> total<span class="token punctuation">;</span> right<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        sumRight <span class="token operator">+=</span> nums<span class="token punctuation">[</span>right<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// 更新右边界的未成活树数量</span>

        <span class="token comment">// 如果窗口内的未成活树数量大于可以补种的数量</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span>sumRight <span class="token operator">-</span> sumLeft <span class="token operator">&gt;</span> supplementCount<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            sumLeft <span class="token operator">+=</span> nums<span class="token punctuation">[</span>left<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// 缩小窗口，左边界右移</span>
            left<span class="token operator">++</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token comment">// 更新最大成活区域的长度</span>
        maxLen <span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span>maxLen<span class="token punctuation">,</span> right <span class="token operator">-</span> left <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 输出最大连续成活区域的长度</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span> maxLen<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 释放动态分配的内存</span>
    <span class="token function">free</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h2><a id="_404"></a>单指针解法，比较难理解</h2> 
<h2><a id="Java_406"></a>Java</h2> 
<pre><code class="prism language-java"><span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Scanner</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">ArrayList</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Main</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">Scanner</span> scanner <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Scanner</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span>in<span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token comment">// 读取胡杨树的总数N</span>
        <span class="token keyword">int</span> total <span class="token operator">=</span> scanner<span class="token punctuation">.</span><span class="token function">nextInt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token comment">// 读取未成活胡杨树的数量M</span>
        <span class="token keyword">int</span> deadCount <span class="token operator">=</span> scanner<span class="token punctuation">.</span><span class="token function">nextInt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 存储未成活胡杨树编号的列表</span>
        <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> deadList <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token comment">// 读取未成活胡杨树的编号</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> deadCount<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">int</span> num <span class="token operator">=</span> scanner<span class="token punctuation">.</span><span class="token function">nextInt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            deadList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token comment">// 读取可以补种的胡杨树数量K</span>
        <span class="token keyword">int</span> supplementCount <span class="token operator">=</span> scanner<span class="token punctuation">.</span><span class="token function">nextInt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token comment">// 初始化最大连续胡杨树的长度</span>
        <span class="token keyword">int</span> maxLen <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        
        <span class="token comment">// 遍历可能的补种位置，寻找最长连续胡杨树的长度</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> supplementCount <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> deadCount<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">==</span> supplementCount <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                <span class="token comment">// 考虑补种后，从开头到第一个无法成活的区域</span>
                maxLen <span class="token operator">=</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>maxLen<span class="token punctuation">,</span> supplementCount <span class="token operator">==</span> deadCount <span class="token operator">?</span> total <span class="token operator">:</span> deadList<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>supplementCount<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">==</span> deadCount <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                <span class="token comment">// 考虑补种后，从最后一个无法成活的区域到结尾</span>
                maxLen <span class="token operator">=</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>maxLen<span class="token punctuation">,</span> total <span class="token operator">-</span> deadList<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>i <span class="token operator">-</span> supplementCount<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
                <span class="token comment">// 计算补种后的最大连续胡杨树</span>
                maxLen <span class="token operator">=</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>maxLen<span class="token punctuation">,</span> deadList<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">-</span> deadList<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>i <span class="token operator">-</span> supplementCount<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>

        <span class="token comment">// 输出结果</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>maxLen<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<h2><a id="Python_457"></a>Python</h2> 
<pre><code class="prism language-python"><span class="token comment"># 读取胡杨树的总数N</span>
total <span class="token operator">=</span> <span class="token builtin">int</span><span class="token punctuation">(</span><span class="token builtin">input</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment"># 读取未成活胡杨树的数量M</span>
deadCount <span class="token operator">=</span> <span class="token builtin">int</span><span class="token punctuation">(</span><span class="token builtin">input</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment"># 读取未成活胡杨树的编号列表</span>
deadList <span class="token operator">=</span> <span class="token builtin">list</span><span class="token punctuation">(</span><span class="token builtin">map</span><span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">,</span> <span class="token builtin">input</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment"># 读取可以补种的胡杨树数量K</span>
supplementCount <span class="token operator">=</span> <span class="token builtin">int</span><span class="token punctuation">(</span><span class="token builtin">input</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment"># 初始化最大连续胡杨树的长度</span>
maxLen <span class="token operator">=</span> <span class="token number">0</span>

<span class="token comment"># 遍历可能的补种位置，寻找最长连续胡杨树的长度</span>
<span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>supplementCount<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> deadCount<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">if</span> i <span class="token operator">==</span> supplementCount<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">:</span>
        <span class="token comment"># 考虑补种后，从开头到第一个无法成活的区域</span>
        maxLen <span class="token operator">=</span> <span class="token builtin">max</span><span class="token punctuation">(</span>maxLen<span class="token punctuation">,</span> total <span class="token keyword">if</span> supplementCount <span class="token operator">==</span> deadCount <span class="token keyword">else</span> deadList<span class="token punctuation">[</span>supplementCount<span class="token punctuation">]</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span>
    <span class="token keyword">elif</span> i <span class="token operator">==</span> deadCount<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">:</span>
        <span class="token comment"># 考虑补种后，从最后一个无法成活的区域到结尾</span>
        maxLen <span class="token operator">=</span> <span class="token builtin">max</span><span class="token punctuation">(</span>maxLen<span class="token punctuation">,</span> total <span class="token operator">-</span> deadList<span class="token punctuation">[</span>i<span class="token operator">-</span>supplementCount<span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token keyword">else</span><span class="token punctuation">:</span>
        <span class="token comment"># 计算补种后的最大连续胡杨树</span>
        maxLen <span class="token operator">=</span> <span class="token builtin">max</span><span class="token punctuation">(</span>maxLen<span class="token punctuation">,</span> deadList<span class="token punctuation">[</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">-</span>deadList<span class="token punctuation">[</span>i<span class="token operator">-</span>supplementCount<span class="token punctuation">]</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span>

<span class="token comment"># 输出结果</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>maxLen<span class="token punctuation">)</span>
</code></pre> 
<h2><a id="JavaScript_490"></a>JavaScript</h2> 
<pre><code class="prism language-js"><span class="token keyword">const</span> readline <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'readline'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> rl <span class="token operator">=</span> readline<span class="token punctuation">.</span><span class="token function">createInterface</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
  <span class="token literal-property property">input</span><span class="token operator">:</span> process<span class="token punctuation">.</span>stdin<span class="token punctuation">,</span>
  <span class="token literal-property property">output</span><span class="token operator">:</span> process<span class="token punctuation">.</span>stdout
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> totalNum<span class="token punctuation">,</span> deadNum<span class="token punctuation">,</span> deadIdx<span class="token punctuation">,</span> maxReplantNum<span class="token punctuation">;</span>

rl<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'line'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">input</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>totalNum<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">// 读取胡杨树的总数N</span>
    totalNum <span class="token operator">=</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>input<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>deadNum<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">// 读取未成活胡杨树的数量M</span>
    deadNum <span class="token operator">=</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>input<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>deadIdx<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">// 读取未成活胡杨树的编号列表</span>
    deadIdx <span class="token operator">=</span> input<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">' '</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>Number<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">// 读取可以补种的胡杨树数量K</span>
    maxReplantNum <span class="token operator">=</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>input<span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    <span class="token keyword">let</span> max <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    
    <span class="token comment">// 遍历可能的补种位置，寻找最长连续胡杨树的长度</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> maxReplantNum <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> deadNum<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">===</span> maxReplantNum <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// 考虑补种后，从开头到第一个无法成活的区域</span>
        max <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>max<span class="token punctuation">,</span> maxReplantNum <span class="token operator">===</span> deadNum <span class="token operator">?</span> totalNum <span class="token operator">:</span> deadIdx<span class="token punctuation">[</span>maxReplantNum<span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">===</span> deadNum <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// 考虑补种后，从最后一个无法成活的区域到结尾</span>
        max <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>max<span class="token punctuation">,</span> totalNum <span class="token operator">-</span> deadIdx<span class="token punctuation">[</span>i <span class="token operator">-</span> maxReplantNum<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// 计算补种后的最大连续胡杨树</span>
        max <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>max<span class="token punctuation">,</span> deadIdx<span class="token punctuation">[</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">-</span> deadIdx<span class="token punctuation">[</span>i <span class="token operator">-</span> maxReplantNum<span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    
    <span class="token comment">// 输出结果</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>max<span class="token punctuation">)</span><span class="token punctuation">;</span>
    rl<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<h2><a id="C_540"></a>C++</h2> 
<pre><code class="prism language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;vector&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;algorithm&gt;</span></span>

using namespace std<span class="token punctuation">;</span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">// 读取胡杨树的总数N</span>
    <span class="token keyword">int</span> total<span class="token punctuation">;</span>
    <span class="token keyword">int</span> deadCount<span class="token punctuation">;</span>
    cin <span class="token operator">&gt;&gt;</span> total <span class="token operator">&gt;&gt;</span> deadCount<span class="token punctuation">;</span>

    <span class="token comment">// 存储未成活胡杨树编号的列表</span>
    vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> deadList<span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> deadCount<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">int</span> num<span class="token punctuation">;</span>
        cin <span class="token operator">&gt;&gt;</span> num<span class="token punctuation">;</span>
        deadList<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 读取可以补种的胡杨树数量K</span>
    <span class="token keyword">int</span> supplementCount<span class="token punctuation">;</span>
    cin <span class="token operator">&gt;&gt;</span> supplementCount<span class="token punctuation">;</span>

    <span class="token comment">// 初始化最大连续胡杨树的长度</span>
    <span class="token keyword">int</span> maxLen <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

    <span class="token comment">// 遍历可能的补种位置，寻找最长连续胡杨树的长度</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> supplementCount <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> deadCount<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">==</span> supplementCount <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token comment">// 考虑补种后，从开头到第一个无法成活的区域</span>
            maxLen <span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span>maxLen<span class="token punctuation">,</span> supplementCount <span class="token operator">==</span> deadCount <span class="token operator">?</span> total <span class="token operator">:</span> deadList<span class="token punctuation">[</span>supplementCount<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">==</span> deadCount <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token comment">// 考虑补种后，从最后一个无法成活的区域到结尾</span>
            maxLen <span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span>maxLen<span class="token punctuation">,</span> total <span class="token operator">-</span> deadList<span class="token punctuation">[</span>i <span class="token operator">-</span> supplementCount<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
            <span class="token comment">// 计算补种后的最大连续胡杨树</span>
            maxLen <span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span>maxLen<span class="token punctuation">,</span> deadList<span class="token punctuation">[</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">-</span> deadList<span class="token punctuation">[</span>i <span class="token operator">-</span> supplementCount<span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 输出结果</span>
    cout <span class="token operator">&lt;&lt;</span> maxLen <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>

    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h2><a id="C_591"></a>C语言</h2> 
<pre><code class="prism language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdlib.h&gt;</span></span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">// 读取胡杨树的总数N</span>
    <span class="token keyword">int</span> total<span class="token punctuation">,</span> deadCount<span class="token punctuation">;</span>
    <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d %d"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>total<span class="token punctuation">,</span> <span class="token operator">&amp;</span>deadCount<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 分配内存用于存储未成活胡杨树的编号</span>
    <span class="token keyword">int</span><span class="token operator">*</span> deadList <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span>deadCount <span class="token operator">*</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> deadCount<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>deadList<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 读取可以补种的胡杨树数量K</span>
    <span class="token keyword">int</span> supplementCount<span class="token punctuation">;</span>
    <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>supplementCount<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 初始化最大连续胡杨树的长度</span>
    <span class="token keyword">int</span> maxLen <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

    <span class="token comment">// 遍历可能的补种位置，寻找最长连续胡杨树的长度</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> supplementCount <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> deadCount<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">==</span> supplementCount <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token comment">// 考虑补种后，从开头到第一个无法成活的区域</span>
            maxLen <span class="token operator">=</span> maxLen <span class="token operator">&gt;</span> <span class="token punctuation">(</span>supplementCount <span class="token operator">==</span> deadCount <span class="token operator">?</span> total <span class="token operator">:</span> deadList<span class="token punctuation">[</span>supplementCount<span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> 
                     <span class="token operator">?</span> maxLen <span class="token operator">:</span> <span class="token punctuation">(</span>supplementCount <span class="token operator">==</span> deadCount <span class="token operator">?</span> total <span class="token operator">:</span> deadList<span class="token punctuation">[</span>supplementCount<span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">==</span> deadCount <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token comment">// 考虑补种后，从最后一个无法成活的区域到结尾</span>
            maxLen <span class="token operator">=</span> maxLen <span class="token operator">&gt;</span> <span class="token punctuation">(</span>total <span class="token operator">-</span> deadList<span class="token punctuation">[</span>i <span class="token operator">-</span> supplementCount<span class="token punctuation">]</span><span class="token punctuation">)</span> 
                     <span class="token operator">?</span> maxLen <span class="token operator">:</span> <span class="token punctuation">(</span>total <span class="token operator">-</span> deadList<span class="token punctuation">[</span>i <span class="token operator">-</span> supplementCount<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
            <span class="token comment">// 计算补种后的最大连续胡杨树</span>
            maxLen <span class="token operator">=</span> maxLen <span class="token operator">&gt;</span> <span class="token punctuation">(</span>deadList<span class="token punctuation">[</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">-</span> deadList<span class="token punctuation">[</span>i <span class="token operator">-</span> supplementCount<span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> 
                     <span class="token operator">?</span> maxLen <span class="token operator">:</span> <span class="token punctuation">(</span>deadList<span class="token punctuation">[</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">-</span> deadList<span class="token punctuation">[</span>i <span class="token operator">-</span> supplementCount<span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 输出结果</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span> maxLen<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 释放分配的内存</span>
    <span class="token function">free</span><span class="token punctuation">(</span>deadList<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p><img src="https://img-blog.csdnimg.cn/img_convert/b0d8ff6d53693bfcf6e1605b507f3ae3.png" alt="fengmian"></p> 
<h4><a id="_649"></a>完整用例</h4> 
<h5><a id="1_650"></a>用例1</h5> 
<pre><code class="prism language-input1">5
2
2 4
1
</code></pre> 
<h5><a id="2_659"></a>用例2</h5> 
<pre><code class="prism language-input2">10
3
2 4 7
1
</code></pre> 
<h5><a id="3_668"></a>用例3</h5> 
<pre><code class="prism language-input3">6
1
3
0
</code></pre> 
<h5><a id="4_677"></a>用例4</h5> 
<pre><code class="prism language-input4">7
3
1 2 5
2
</code></pre> 
<h5><a id="5_686"></a>用例5</h5> 
<pre><code class="prism language-input5">8
4
2 4 6 8
2
</code></pre> 
<h5><a id="6_695"></a>用例6</h5> 
<pre><code class="prism language-input6">6
1
3
0
</code></pre> 
<h5><a id="7_704"></a>用例7</h5> 
<pre><code class="prism language-input7">10
3
2 4 7
1
</code></pre> 
<h5><a id="8_713"></a>用例8</h5> 
<pre><code class="prism language-input8">7
4
1 2 5 6
3
</code></pre> 
<h5><a id="9_722"></a>用例9</h5> 
<pre><code class="prism language-input9">7
2
4 6
1
</code></pre> 
<h5><a id="10_731"></a>用例10</h5> 
<pre><code class="prism language-input10">8
4
2 4 6 8
4
</code></pre>
                </div>
</body>
</html>

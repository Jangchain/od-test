
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Document</title>
</head>
<body>
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h2><a id="OD_1"></a>最新华为OD机试</h2> 
<p><font color="RED">真题目录：<a href="https://blog.csdn.net/banxia_frontend/article/details/129640773">点击查看目录</a> </font><br> <font color="RED"> 华为OD面试真题精选：<a href="https://blog.csdn.net/banxia_frontend/category_12436481.html">点击立即查看</a></font></p> 
<h2><a id="_5"></a>题目描述</h2> 
<p>总共有 n 个人在机房，每个人有一个标号（1&lt;=标号&lt;=n），他们分成了多个团队，需要你根据收到的 m 条消息判定指定的两个人是否在一个团队中，具体的：</p> 
<ol><li>消息构成为 a b c，整数 a、b 分别代表两个人的标号，整数 c 代表指令</li><li>c == 0 代表 a 和 b 在一个团队内</li><li>c == 1 代表需要判定 a 和 b 的关系，如果 a 和 b 是一个团队，输出一行’we are a team’,如果不是，输出一行’we are not a team’</li><li>c 为其他值，或当前行 a 或 b 超出 1~n 的范围，输出‘da pian zi’</li></ol> 
<h2><a id="_14"></a>输入描述</h2> 
<ol><li>第一行包含两个整数 n，m(1&lt;=n,m&lt;100000),分别表示有 n 个人和 m 条消息</li><li>随后的 m 行，每行一条消息，消息格式为：a b c(1&lt;=a,b&lt;=n,0&lt;=c&lt;=1)</li></ol> 
<h2><a id="_21"></a>输出描述</h2> 
<ol><li>c ==1,根据 a 和 b 是否在一个团队中输出一行字符串，在一个团队中输出‘we are a team‘,不在一个团队中输出’we are not a team’</li><li>c 为其他值，或当前行 a 或 b 的标号小于 1 或者大于 n 时，输出字符串‘da pian zi‘</li><li>如果第一行 n 和 m 的值超出约定的范围时，输出字符串”Null“。</li></ol> 
<h2><a id="1_27"></a>示例1</h2> 
<p>输入</p> 
<pre><code>5 7
1 2 0
4 5 0
2 3 0
1 2 1
2 3 1
4 5 1
1 5 1
</code></pre> 
<p>输出</p> 
<pre><code>We are a team
We are a team
We are a team
We are not a team
</code></pre> 
<p>说明</p> 
<blockquote></blockquote> 
<h2><a id="2_57"></a>示例2</h2> 
<p>输入</p> 
<pre><code>5 6
1 2 0
1 2 1
1 5 0
2 3 1
2 5 1
1 3 2
</code></pre> 
<p>输出</p> 
<pre><code>we are a team
we are not a team
we are a team
da pian zi
</code></pre> 
<p>说明</p> 
<blockquote></blockquote> 
<h2><a id="_86"></a>解题思路</h2> 
<p>题目要求判断给定的两个人是否在同一个团队中。、</p> 
<p>输入包含 n 个人和 m 条消息。</p> 
<p>每条消息包含 a、b 和 c，其中 a 和 b 是两个人的标号，c 是指令。</p> 
<ul><li>c == 0 表示 a 和 b 在同一个团队</li><li>c == 1 表示需要判断 a 和 b 是否在同一个团队。</li></ul> 
<h3><a id="_97"></a><strong>示例解释：</strong></h3> 
<p>输入：</p> 
<pre><code>5 7
1 2 0
4 5 0
2 3 0
1 2 1
2 3 1
4 5 1
1 5 1
</code></pre> 
<ol><li>前三条消息表示： 
  <ul><li>1 和 2 在同一个团队</li><li>4 和 5 在同一个团队</li><li>2 和 3 在同一个团队</li></ul> </li><li>因此，团队关系如下： 
  <ul><li>团队1：1, 2, 3</li><li>团队2：4, 5</li></ul> </li><li>接下来的四条消息要求判断两个人是否在同一个团队： 
  <ul><li>1 和 2：在同一个团队（团队1），输出 “We are a team”</li><li>2 和 3：在同一个团队（团队1），输出 “We are a team”</li><li>4 和 5：在同一个团队（团队2），输出 “We are a team”</li><li>1 和 5：不在同一个团队，输出 “We are not a team”</li></ul> </li></ol> 
<h2><a id="Java_124"></a>Java</h2> 
<pre><code class="prism language-java"><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Scanner</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Main</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// 读取输入，获取人数和消息数量</span>
        <span class="token class-name">Scanner</span> sc <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Scanner</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span>in<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> numPeople <span class="token operator">=</span> sc<span class="token punctuation">.</span><span class="token function">nextInt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> numMessages <span class="token operator">=</span> sc<span class="token punctuation">.</span><span class="token function">nextInt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 读取消息并存储到二维数组中</span>
        <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span> messages <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span>numMessages<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> numMessages<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            messages<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> sc<span class="token punctuation">.</span><span class="token function">nextInt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            messages<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> sc<span class="token punctuation">.</span><span class="token function">nextInt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            messages<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> sc<span class="token punctuation">.</span><span class="token function">nextInt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token comment">// 检查输入范围，如果超出范围则输出 "Null"</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>numPeople <span class="token operator">&lt;</span> <span class="token number">1</span> <span class="token operator">||</span> numPeople <span class="token operator">&gt;=</span> <span class="token number">100000</span> <span class="token operator">||</span> numMessages <span class="token operator">&lt;</span> <span class="token number">1</span> <span class="token operator">||</span> numMessages <span class="token operator">&gt;=</span> <span class="token number">100000</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Null"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token comment">// 初始化数组，用于存储每个人的团队信息</span>
        <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> parent <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span>numPeople <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> numPeople <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> parent<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> i<span class="token punctuation">;</span>

        <span class="token comment">// 遍历消息，根据指令处理团队关系</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> message <span class="token operator">:</span> messages<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">int</span> personA <span class="token operator">=</span> message<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> personB <span class="token operator">=</span> message<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> command <span class="token operator">=</span> message<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

            <span class="token comment">// 检查输入范围，如果超出范围则输出 "da pian zi"</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>personA <span class="token operator">&lt;</span> <span class="token number">1</span> <span class="token operator">||</span> personA <span class="token operator">&gt;</span> numPeople <span class="token operator">||</span> personB <span class="token operator">&lt;</span> <span class="token number">1</span> <span class="token operator">||</span> personB <span class="token operator">&gt;</span> numPeople<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"da pian zi"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">continue</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>

            <span class="token comment">// 如果指令为 0，则合并 personA 和 personB 所在的团队</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>command <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                <span class="token keyword">int</span> rootA <span class="token operator">=</span> <span class="token function">find</span><span class="token punctuation">(</span>personA<span class="token punctuation">,</span> parent<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">int</span> rootB <span class="token operator">=</span> <span class="token function">find</span><span class="token punctuation">(</span>personB<span class="token punctuation">,</span> parent<span class="token punctuation">)</span><span class="token punctuation">;</span>

                <span class="token keyword">if</span> <span class="token punctuation">(</span>rootA <span class="token operator">!=</span> rootB<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                    parent<span class="token punctuation">[</span>rootB<span class="token punctuation">]</span> <span class="token operator">=</span> rootA<span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
            <span class="token comment">// 如果指令为 1，则判断 personA 和 personB 是否在同一个团队</span>
            <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>command <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token function">find</span><span class="token punctuation">(</span>personA<span class="token punctuation">,</span> parent<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token function">find</span><span class="token punctuation">(</span>personB<span class="token punctuation">,</span> parent<span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token string">"We are a team"</span> <span class="token operator">:</span> <span class="token string">"We are not a team"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token comment">// 如果指令为其他值，则输出 "da pian zi"</span>
            <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"da pian zi"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 查找节点，用于判断两个人是否在同一个团队</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">int</span> <span class="token function">find</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> parent<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>parent<span class="token punctuation">[</span>x<span class="token punctuation">]</span> <span class="token operator">!=</span> x<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">return</span> parent<span class="token punctuation">[</span>x<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">find</span><span class="token punctuation">(</span>parent<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">,</span> parent<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> x<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> 
<h2><a id="Python_195"></a>Python</h2> 
<pre><code class="prism language-python"><span class="token keyword">def</span> <span class="token function">find</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> parent<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token comment"># 查找节点，用于判断两个人是否在同一个团队</span>
    <span class="token keyword">if</span> parent<span class="token punctuation">[</span>x<span class="token punctuation">]</span> <span class="token operator">!=</span> x<span class="token punctuation">:</span>
        parent<span class="token punctuation">[</span>x<span class="token punctuation">]</span> <span class="token operator">=</span> find<span class="token punctuation">(</span>parent<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">,</span> parent<span class="token punctuation">)</span>
    <span class="token keyword">return</span> parent<span class="token punctuation">[</span>x<span class="token punctuation">]</span>


<span class="token comment"># 读取输入，获取人数和消息数量</span>
num_people<span class="token punctuation">,</span> num_messages <span class="token operator">=</span> <span class="token builtin">map</span><span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">,</span> <span class="token builtin">input</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment"># 读取消息并存储到二维数组中</span>
messages <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token builtin">list</span><span class="token punctuation">(</span><span class="token builtin">map</span><span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">,</span> <span class="token builtin">input</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">for</span> _ <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>num_messages<span class="token punctuation">)</span><span class="token punctuation">]</span>

<span class="token comment"># 检查输入范围，如果超出范围则输出 "Null"</span>
<span class="token keyword">if</span> num_people <span class="token operator">&lt;</span> <span class="token number">1</span> <span class="token keyword">or</span> num_people <span class="token operator">&gt;=</span> <span class="token number">100000</span> <span class="token keyword">or</span> num_messages <span class="token operator">&lt;</span> <span class="token number">1</span> <span class="token keyword">or</span> num_messages <span class="token operator">&gt;=</span> <span class="token number">100000</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"Null"</span><span class="token punctuation">)</span>
<span class="token keyword">else</span><span class="token punctuation">:</span>
    <span class="token comment"># 初始化数组，用于存储每个人的团队信息</span>
    parent <span class="token operator">=</span> <span class="token builtin">list</span><span class="token punctuation">(</span><span class="token builtin">range</span><span class="token punctuation">(</span>num_people <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

    <span class="token comment"># 遍历消息，根据指令处理团队关系</span>
    <span class="token keyword">for</span> message <span class="token keyword">in</span> messages<span class="token punctuation">:</span>
        person_a<span class="token punctuation">,</span> person_b<span class="token punctuation">,</span> command <span class="token operator">=</span> message

        <span class="token comment"># 检查输入范围，如果超出范围则输出 "da pian zi"</span>
        <span class="token keyword">if</span> person_a <span class="token operator">&lt;</span> <span class="token number">1</span> <span class="token keyword">or</span> person_a <span class="token operator">&gt;</span> num_people <span class="token keyword">or</span> person_b <span class="token operator">&lt;</span> <span class="token number">1</span> <span class="token keyword">or</span> person_b <span class="token operator">&gt;</span> num_people<span class="token punctuation">:</span>
            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"da pian zi"</span><span class="token punctuation">)</span>
            <span class="token keyword">continue</span>

        <span class="token comment"># 如果指令为 0，则合并 person_a 和 person_b 所在的团队</span>
        <span class="token keyword">if</span> command <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">:</span>
            root_a <span class="token operator">=</span> find<span class="token punctuation">(</span>person_a<span class="token punctuation">,</span> parent<span class="token punctuation">)</span>
            root_b <span class="token operator">=</span> find<span class="token punctuation">(</span>person_b<span class="token punctuation">,</span> parent<span class="token punctuation">)</span>

            <span class="token keyword">if</span> root_a <span class="token operator">!=</span> root_b<span class="token punctuation">:</span>
                parent<span class="token punctuation">[</span>root_b<span class="token punctuation">]</span> <span class="token operator">=</span> root_a
        <span class="token comment"># 如果指令为 1，则判断 person_a 和 person_b 是否在同一个团队</span>
        <span class="token keyword">elif</span> command <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">:</span>
            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"We are a team"</span> <span class="token keyword">if</span> find<span class="token punctuation">(</span>person_a<span class="token punctuation">,</span> parent<span class="token punctuation">)</span> <span class="token operator">==</span> find<span class="token punctuation">(</span>person_b<span class="token punctuation">,</span> parent<span class="token punctuation">)</span> <span class="token keyword">else</span> <span class="token string">"We are not a team"</span><span class="token punctuation">)</span>
        <span class="token comment"># 如果指令为其他值，则输出 "da pian zi"</span>
        <span class="token keyword">else</span><span class="token punctuation">:</span>
            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"da pian zi"</span><span class="token punctuation">)</span>
</code></pre> 
<h2><a id="JavaScript_242"></a>JavaScript</h2> 
<pre><code class="prism language-js"><span class="token keyword">const</span> readline <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'readline'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> rl <span class="token operator">=</span> readline<span class="token punctuation">.</span><span class="token function">createInterface</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
  input<span class="token operator">:</span> process<span class="token punctuation">.</span>stdin<span class="token punctuation">,</span>
  output<span class="token operator">:</span> process<span class="token punctuation">.</span>stdout
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 查找节点，用于判断两个人是否在同一个团队</span>
<span class="token keyword">function</span> <span class="token function">find</span><span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">,</span> parent</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>parent<span class="token punctuation">[</span>x<span class="token punctuation">]</span> <span class="token operator">!==</span> x<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    parent<span class="token punctuation">[</span>x<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">find</span><span class="token punctuation">(</span>parent<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">,</span> parent<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> parent<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> inputLines <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
rl<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'line'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">input</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
  inputLines<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>input<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'close'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>numPeople<span class="token punctuation">,</span> numMessages<span class="token punctuation">]</span> <span class="token operator">=</span> inputLines<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">' '</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>Number<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> messages <span class="token operator">=</span> inputLines<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">line</span> <span class="token operator">=&gt;</span> line<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">' '</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>Number<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// 检查输入范围，如果超出范围则输出 "Null"</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>numPeople <span class="token operator">&lt;</span> <span class="token number">1</span> <span class="token operator">||</span> numPeople <span class="token operator">&gt;=</span> <span class="token number">100000</span> <span class="token operator">||</span> numMessages <span class="token operator">&lt;</span> <span class="token number">1</span> <span class="token operator">||</span> numMessages <span class="token operator">&gt;=</span> <span class="token number">100000</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Null'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// 初始化数组，用于存储每个人的团队信息</span>
  <span class="token keyword">const</span> parent <span class="token operator">=</span> Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span> length<span class="token operator">:</span> numPeople <span class="token operator">+</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">_<span class="token punctuation">,</span> i</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// 遍历消息，根据指令处理团队关系</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> message <span class="token keyword">of</span> messages<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">const</span> <span class="token punctuation">[</span>personA<span class="token punctuation">,</span> personB<span class="token punctuation">,</span> command<span class="token punctuation">]</span> <span class="token operator">=</span> message<span class="token punctuation">;</span>

    <span class="token comment">// 检查输入范围，如果超出范围则输出 "da pian zi"</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>personA <span class="token operator">&lt;</span> <span class="token number">1</span> <span class="token operator">||</span> personA <span class="token operator">&gt;</span> numPeople <span class="token operator">||</span> personB <span class="token operator">&lt;</span> <span class="token number">1</span> <span class="token operator">||</span> personB <span class="token operator">&gt;</span> numPeople<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'da pian zi'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">continue</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 如果指令为 0，则合并 personA 和 personB 所在的团队</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>command <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      <span class="token keyword">const</span> rootA <span class="token operator">=</span> <span class="token function">find</span><span class="token punctuation">(</span>personA<span class="token punctuation">,</span> parent<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">const</span> rootB <span class="token operator">=</span> <span class="token function">find</span><span class="token punctuation">(</span>personB<span class="token punctuation">,</span> parent<span class="token punctuation">)</span><span class="token punctuation">;</span>

      <span class="token keyword">if</span> <span class="token punctuation">(</span>rootA <span class="token operator">!==</span> rootB<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        parent<span class="token punctuation">[</span>rootB<span class="token punctuation">]</span> <span class="token operator">=</span> rootA<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// 如果指令为 1，则判断 personA 和 personB 是否在同一个团队</span>
    <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>command <span class="token operator">===</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">find</span><span class="token punctuation">(</span>personA<span class="token punctuation">,</span> parent<span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token function">find</span><span class="token punctuation">(</span>personB<span class="token punctuation">,</span> parent<span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token string">'We are a team'</span> <span class="token operator">:</span> <span class="token string">'We are not a team'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// 如果指令为其他值，则输出 "da pian zi"</span>
    <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'da pian zi'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre> 
<h2><a id="C_308"></a>C++</h2> 
<pre><code class="prism language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;vector&gt;</span></span>

<span class="token comment">// 查找节点，用于判断两个人是否在同一个团队</span>
<span class="token keyword">int</span> <span class="token function">find</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">,</span> std<span class="token operator">::</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> <span class="token operator">&amp;</span>parent<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>parent<span class="token punctuation">[</span>x<span class="token punctuation">]</span> <span class="token operator">!=</span> x<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        parent<span class="token punctuation">[</span>x<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">find</span><span class="token punctuation">(</span>parent<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">,</span> parent<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> parent<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">// 读取输入，获取人数和消息数量</span>
    <span class="token keyword">int</span> numPeople<span class="token punctuation">,</span> numMessages<span class="token punctuation">;</span>
    std<span class="token operator">::</span>cin <span class="token operator">&gt;&gt;</span> numPeople <span class="token operator">&gt;&gt;</span> numMessages<span class="token punctuation">;</span>

    <span class="token comment">// 读取消息并存储到二维数组中</span>
    std<span class="token operator">::</span>vector<span class="token operator">&lt;</span>std<span class="token operator">::</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;&gt;</span> <span class="token function">messages</span><span class="token punctuation">(</span>numMessages<span class="token punctuation">,</span> std<span class="token operator">::</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> numMessages<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        std<span class="token operator">::</span>cin <span class="token operator">&gt;&gt;</span> messages<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">&gt;&gt;</span> messages<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">&gt;&gt;</span> messages<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 检查输入范围，如果超出范围则输出 "Null"</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>numPeople <span class="token operator">&lt;</span> <span class="token number">1</span> <span class="token operator">||</span> numPeople <span class="token operator">&gt;=</span> <span class="token number">100000</span> <span class="token operator">||</span> numMessages <span class="token operator">&lt;</span> <span class="token number">1</span> <span class="token operator">||</span> numMessages <span class="token operator">&gt;=</span> <span class="token number">100000</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        std<span class="token operator">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Null"</span> <span class="token operator">&lt;&lt;</span> std<span class="token operator">::</span>endl<span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 初始化数组，用于存储每个人的团队信息</span>
    std<span class="token operator">::</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> <span class="token function">parent</span><span class="token punctuation">(</span>numPeople <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> numPeople <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> parent<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> i<span class="token punctuation">;</span>

    <span class="token comment">// 遍历消息，根据指令处理团队关系</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">auto</span> <span class="token operator">&amp;</span>message <span class="token operator">:</span> messages<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">int</span> personA <span class="token operator">=</span> message<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> personB <span class="token operator">=</span> message<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> command <span class="token operator">=</span> message<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

        <span class="token comment">// 检查输入范围，如果超出范围则输出 "da pian zi"</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>personA <span class="token operator">&lt;</span> <span class="token number">1</span> <span class="token operator">||</span> personA <span class="token operator">&gt;</span> numPeople <span class="token operator">||</span> personB <span class="token operator">&lt;</span> <span class="token number">1</span> <span class="token operator">||</span> personB <span class="token operator">&gt;</span> numPeople<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            std<span class="token operator">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"da pian zi"</span> <span class="token operator">&lt;&lt;</span> std<span class="token operator">::</span>endl<span class="token punctuation">;</span>
            <span class="token keyword">continue</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token comment">// 如果指令为 0，则合并 personA 和 personB 所在的团队</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>command <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">int</span> rootA <span class="token operator">=</span> <span class="token function">find</span><span class="token punctuation">(</span>personA<span class="token punctuation">,</span> parent<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">int</span> rootB <span class="token operator">=</span> <span class="token function">find</span><span class="token punctuation">(</span>personB<span class="token punctuation">,</span> parent<span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token keyword">if</span> <span class="token punctuation">(</span>rootA <span class="token operator">!=</span> rootB<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                parent<span class="token punctuation">[</span>rootB<span class="token punctuation">]</span> <span class="token operator">=</span> rootA<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token comment">// 如果指令为 1，则判断 personA 和 personB 是否在同一个团队</span>
        <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>command <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            std<span class="token operator">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token punctuation">(</span><span class="token function">find</span><span class="token punctuation">(</span>personA<span class="token punctuation">,</span> parent<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token function">find</span><span class="token punctuation">(</span>personB<span class="token punctuation">,</span> parent<span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token string">"We are a team"</span> <span class="token operator">:</span> <span class="token string">"We are not a team"</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> std<span class="token operator">::</span>endl<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token comment">// 如果指令为其他值，则输出 "da pian zi"</span>
        <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
            std<span class="token operator">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"da pian zi"</span> <span class="token operator">&lt;&lt;</span> std<span class="token operator">::</span>endl<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre> 
<h2><a id="C_377"></a>C语言</h2> 
<pre><code class="prism language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h&gt;</span></span>

<span class="token comment">// 查找某个节点的根节点（使用路径压缩来优化查找）</span>
<span class="token keyword">int</span> <span class="token function">find</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">,</span> <span class="token keyword">int</span> parent<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>parent<span class="token punctuation">[</span>x<span class="token punctuation">]</span> <span class="token operator">!=</span> x<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// 递归查找父节点并压缩路径</span>
        parent<span class="token punctuation">[</span>x<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">find</span><span class="token punctuation">(</span>parent<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">,</span> parent<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> parent<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">int</span> n<span class="token punctuation">,</span> m<span class="token punctuation">;</span>

    <span class="token comment">// 输入 n 和 m，表示人数和消息数</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d %d"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>n<span class="token punctuation">,</span> <span class="token operator">&amp;</span>m<span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// 输入读取错误</span>
        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Null\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 检查人数和消息数的合法性</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>n <span class="token operator">&lt;</span> <span class="token number">1</span> <span class="token operator">||</span> n <span class="token operator">&gt;=</span> <span class="token number">100000</span> <span class="token operator">||</span> m <span class="token operator">&lt;</span> <span class="token number">1</span> <span class="token operator">||</span> m <span class="token operator">&gt;=</span> <span class="token number">100000</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// 如果超出规定范围，输出 "Null"</span>
        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Null\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 初始化并查集数组，每个人初始为自己的团队</span>
    <span class="token keyword">int</span> parent<span class="token punctuation">[</span>n <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        parent<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> i<span class="token punctuation">;</span> <span class="token comment">// 初始时，每个人的父节点是自己</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 处理每条消息</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> m<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">int</span> a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c<span class="token punctuation">;</span>

        <span class="token comment">// 读取消息 a, b, c</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d %d %d"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>a<span class="token punctuation">,</span> <span class="token operator">&amp;</span>b<span class="token punctuation">,</span> <span class="token operator">&amp;</span>c<span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token comment">// 如果输入格式有误，忽略本条消息</span>
            <span class="token keyword">continue</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token comment">// 检查 a 和 b 是否在合法范围内</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>a <span class="token operator">&lt;</span> <span class="token number">1</span> <span class="token operator">||</span> a <span class="token operator">&gt;</span> n <span class="token operator">||</span> b <span class="token operator">&lt;</span> <span class="token number">1</span> <span class="token operator">||</span> b <span class="token operator">&gt;</span> n<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"da pian zi\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输入不合法，输出 "da pian zi"</span>
            <span class="token keyword">continue</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token comment">// 处理指令</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>c <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token comment">// 指令为 0，表示将 a 和 b 合并到同一个团队中</span>
            <span class="token keyword">int</span> rootA <span class="token operator">=</span> <span class="token function">find</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> parent<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 查找 a 的根节点</span>
            <span class="token keyword">int</span> rootB <span class="token operator">=</span> <span class="token function">find</span><span class="token punctuation">(</span>b<span class="token punctuation">,</span> parent<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 查找 b 的根节点</span>

            <span class="token comment">// 如果 a 和 b 不在同一个团队，合并它们</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>rootA <span class="token operator">!=</span> rootB<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                parent<span class="token punctuation">[</span>rootB<span class="token punctuation">]</span> <span class="token operator">=</span> rootA<span class="token punctuation">;</span> <span class="token comment">// 将 b 的根节点指向 a 的根节点</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>c <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token comment">// 指令为 1，表示判断 a 和 b 是否在同一个团队</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">find</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> parent<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token function">find</span><span class="token punctuation">(</span>b<span class="token punctuation">,</span> parent<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"We are a team\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// a 和 b 在同一个团队</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
                <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"We are not a team\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// a 和 b 不在同一个团队</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
            <span class="token comment">// 其他不合法的指令</span>
            <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"da pian zi\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p><img src="https://img-blog.csdnimg.cn/img_convert/b0d8ff6d53693bfcf6e1605b507f3ae3.png" alt="fengmian"></p> 
<h4><a id="_461"></a>完整用例</h4> 
<h5><a id="1_462"></a>用例1</h5> 
<pre><code class="prism language-input1">5 7
1 2 0
4 5 0
2 3 0
1 2 1
2 3 1
4 5 1
1 5 1
</code></pre> 
<h5><a id="2_475"></a>用例2</h5> 
<pre><code class="prism language-input2">5 6
1 2 0
1 2 1
1 5 0
2 3 1
2 5 1
1 3 2
</code></pre> 
<h5><a id="3_487"></a>用例3</h5> 
<pre><code class="prism language-input3">5 3
1 2 0
2 3 0
1 3 1
</code></pre> 
<h5><a id="4_496"></a>用例4</h5> 
<pre><code class="prism language-input4">4 4
1 2 0
2 3 0
3 4 0
1 4 1
</code></pre> 
<h5><a id="5_506"></a>用例5</h5> 
<pre><code class="prism language-input5">5 5
1 2 0
3 4 0
2 3 0
4 5 0
1 5 1
</code></pre> 
<h5><a id="6_517"></a>用例6</h5> 
<pre><code class="prism language-input6">5 3
1 2 0
2 3 0
4 5 2
</code></pre> 
<h5><a id="7_526"></a>用例7</h5> 
<pre><code class="prism language-input7">5 4
1 2 0
2 3 0
1 3 1
4 5 2
</code></pre> 
<h5><a id="8_536"></a>用例8</h5> 
<pre><code class="prism language-input8">5 6
1 2 0
2 3 0
3 4 0
4 5 0
1 5 1
2 4 1
</code></pre> 
<h5><a id="9_548"></a>用例9</h5> 
<pre><code class="prism language-input9">100000 2
1 2 0
1 3 0
1 2 1
</code></pre> 
<h5><a id="10_557"></a>用例10</h5> 
<pre><code class="prism language-input10">-1 2
1 2 0
1 3 0
1 2 2
</code></pre>
                </div>
</body>
</html>

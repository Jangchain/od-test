
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Document</title>
</head>
<body>
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h4><a id="_1"></a>题目描述</h4> 
<p>在一个博客网站上，每篇博客都有评论。</p> 
<p>每一条评论都是一个非空英文字母字符串。</p> 
<p>评论具有树状结构，除了根评论外，每个评论都有一个父评论。</p> 
<p>当评论保存时，使用以下格式：</p> 
<ul><li>首先是评论的内容；</li><li>然后是回复当前评论的数量。</li><li>最后是当前评论的所有了评论。(子评论使用相同的格式嵌套存储)</li></ul> 
<p>所有元素之间都用单个逗号分隔。</p> 
<p>例如，如果评论如下：</p> 
<p><img src="https://i-blog.csdnimg.cn/blog_migrate/2c2dc1cb2830494240a210a164c24594.png" alt="image-20230830223149785"></p> 
<p>第一条评论是"helo,2,ok,0,bye,0"，第二条评论是"test,0"，第三条评论是"one,1,two,1,a,0"。</p> 
<p>所有评论被保存成"hello,2,ok,0.bye,0,test,0,one,1,two,1,a,0"。</p> 
<p>对于上述格式的评论，请以另外一种格式打印：</p> 
<ul><li>首先打印评论嵌套的最大深度。</li><li>然后是打印n行，第 i (1 ≤ i ≤ n) 行对应于嵌套级别为 i 的评论 (根评论的嵌套级别为1)。</li><li>对于第 i 行，嵌套级别为的评论按照它们出现的顺序打印，用空格分隔开。</li></ul> 
<h4><a id="_32"></a>输入描述</h4> 
<p>一行评论。由英文字母、数字和英文逗号组成。</p> 
<p>保证每个评论都是由英文字符组成的非空字符串。</p> 
<p>每个评论的数量都是整数 (至少由一个数字组成)。</p> 
<p>整个字符串的长度不超过10^6。</p> 
<p>给定的评论结构保证是合法的。</p> 
<h4><a id="_44"></a>输出描述</h4> 
<p>按照给定的格式打印评论。对于每一级嵌套，评论应该按照输入中的顺序打印。</p> 
<h4><a id="1_48"></a>用例1</h4> 
<p>输入</p> 
<pre><code>hello,2,ok,0,bye,0,test,0,one,1,two,1,a,0
</code></pre> 
<p>输出</p> 
<pre><code>3
hello test one
ok bye two
a
</code></pre> 
<p>说明</p> 
<blockquote> 
 <p>如题目描述中图所示，最大嵌套级别为3，嵌套级别为1的评论是"hello test one"，嵌套级别为2的评论是"ok bye two"，嵌套级别为3的评论为”a"”。</p> 
</blockquote> 
<h4><a id="2_68"></a>用例2</h4> 
<p>输入</p> 
<pre><code>A,5,A,0,a,0,A,0,a,0,A,0
</code></pre> 
<p>输出</p> 
<pre><code>2
A
A a A a A
</code></pre> 
<p>说明</p> 
<blockquote> 
 <p>如下图所示，最大嵌套级别为2，嵌套级别为1的评论是"A”，嵌套级别为2的评论是"A a A a A"</p> 
</blockquote> 
<p><img src="https://i-blog.csdnimg.cn/blog_migrate/b5ddd995f58b9d411e20b405a1320963.png" alt="image-20230830223521862"></p> 
<h4><a id="3_90"></a>用例3</h4> 
<p>输入</p> 
<pre><code>A,3,B,2,C,0,D,1,E,0,F,1,G,0,H,1,I,1,J,0,K,1,L,0,M,2,N,0,O,1,P,0
</code></pre> 
<p>输出</p> 
<pre><code>4
A K M
B F H L N O
C D G I P
E J
</code></pre> 
<p>说明</p> 
<p><img src="https://i-blog.csdnimg.cn/blog_migrate/995d8897317522f041ed58d960d46218.png" alt="image-20230830223549306"></p> 
<h4><a id="_116"></a>题目解析</h4> 
<p>这个问题的目标是处理一系列评论和子评论，并计算评论的最大深度以及输出每一层的评论内容。输入数据是一行字符串，其中包含评论和子评论的数量信息。我们需要将这些信息转换为一个结构化的评论列表。</p> 
<ol><li> <p>首先，我们需要从标准输入读取一行输入数据。 然后，我们使用逗号分隔符将输入数据分割成一个字符串数组。这个数组包含了评论和子评论的数量信息。</p> </li><li> <p>接下来，我们需要初始化一些变量。我们将评论的最大深度初始化为 0，并创建一个空的评论列表，用于存储每一层的评论内容。</p> </li><li> <p>为了处理输入数据中的所有评论，我们使用一个循环。在循环中，我们首先读取根评论内容并将其添加到第一层评论列表中。然后，我们读取子评论的数量。</p> </li><li> <p>对于每个子评论，我们调用一个名为 <code>read</code> 的递归函数来处理。这个函数接受四个参数：输入数据列表、评论列表、当前深度和当前处理的输入索引。函数的主要任务是将评论内容添加到对应深度的评论列表中，并更新评论的最大深度。</p> </li><li> <p>在 <code>read</code> 函数中，我们首先检查当前深度是否大于等于评论列表的大小。如果是，我们需要在评论列表中添加一个新的空字符串。然后，我们读取评论内容并将其添加到对应深度的评论列表中。接下来，我们读取子评论的数量，并使用一个循环递归地处理每个子评论。在循环中，我们更新评论的最大深度和当前处理的输入索引。</p> </li><li> <p>当所有评论都处理完毕后，我们输出评论的最大深度加 1（因为深度是从 0 开始计算的），以及每一层的评论内容。</p> </li></ol> 
<p>这个解题思路的核心是使用递归函数 <code>read</code> 来处理评论和子评论。通过递归地调用这个函数，我们可以方便地处理任意层次的评论结构。这种方法对于初学者来说可能有些复杂，但通过仔细阅读代码和理解递归的概念，您将能够更好地理解这个解题方法。</p> 
<h4><a id="C_134"></a>C++</h4> 
<pre><code class="prism language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span> <span class="token comment">// 导入输入输出流库</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;vector&gt;</span> <span class="token comment">// 导入向量库，用于存储评论列表</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;string&gt;</span> <span class="token comment">// 导入字符串库</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;sstream&gt;</span> <span class="token comment">// 导入字符串流库，用于分割字符串</span></span>

using namespace std<span class="token punctuation">;</span>

<span class="token comment">// 递归读取评论，参数：input为输入列表，comments为评论列表，curDepth为当前深度，index为当前处理的输入索引</span>
pair<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token operator">&gt;</span> <span class="token function">read</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span>string<span class="token operator">&gt;</span> <span class="token operator">&amp;</span>input<span class="token punctuation">,</span> vector<span class="token operator">&lt;</span>string<span class="token operator">&gt;</span> <span class="token operator">&amp;</span>comments<span class="token punctuation">,</span> <span class="token keyword">int</span> curDepth<span class="token punctuation">,</span> <span class="token keyword">int</span> index<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">// 如果当前深度大于等于评论列表的大小，则添加一个新的空字符串</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>curDepth <span class="token operator">&gt;=</span> comments<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        comments<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 读取评论内容并添加到对应深度的评论列表中</span>
    comments<span class="token punctuation">[</span>curDepth<span class="token punctuation">]</span> <span class="token operator">+=</span> <span class="token string">" "</span> <span class="token operator">+</span> input<span class="token punctuation">[</span>index<span class="token operator">++</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

    <span class="token comment">// 读取子评论数量</span>
    <span class="token keyword">int</span> childNum <span class="token operator">=</span> <span class="token function">stoi</span><span class="token punctuation">(</span>input<span class="token punctuation">[</span>index<span class="token operator">++</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> depth <span class="token operator">=</span> curDepth<span class="token punctuation">;</span>

    <span class="token comment">// 递归读取子评论</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>childNum <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        childNum<span class="token operator">--</span><span class="token punctuation">;</span>
        pair<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token operator">&gt;</span> result <span class="token operator">=</span> <span class="token function">read</span><span class="token punctuation">(</span>input<span class="token punctuation">,</span> comments<span class="token punctuation">,</span> curDepth <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> index<span class="token punctuation">)</span><span class="token punctuation">;</span>
        depth <span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span>result<span class="token punctuation">.</span>first<span class="token punctuation">,</span> depth<span class="token punctuation">)</span><span class="token punctuation">;</span>
        index <span class="token operator">=</span> result<span class="token punctuation">.</span>second<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> <span class="token function">make_pair</span><span class="token punctuation">(</span>depth<span class="token punctuation">,</span> index<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    string inputLine<span class="token punctuation">;</span>
    <span class="token function">getline</span><span class="token punctuation">(</span>cin<span class="token punctuation">,</span> inputLine<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 读取输入行</span>

    <span class="token comment">// 使用istringstream分割输入行</span>
    istringstream <span class="token function">iss</span><span class="token punctuation">(</span>inputLine<span class="token punctuation">)</span><span class="token punctuation">;</span>
    vector<span class="token operator">&lt;</span>string<span class="token operator">&gt;</span> input<span class="token punctuation">;</span>
    string token<span class="token punctuation">;</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token function">getline</span><span class="token punctuation">(</span>iss<span class="token punctuation">,</span> token<span class="token punctuation">,</span> <span class="token string">','</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        input<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>token<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">int</span> depth <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment">// 初始化评论的最大深度为0</span>
    vector<span class="token operator">&lt;</span>string<span class="token operator">&gt;</span> comments<span class="token punctuation">;</span> <span class="token comment">// 创建评论列表</span>
    comments<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 添加第一层评论的空字符串</span>

    <span class="token comment">// 读取评论并处理</span>
    <span class="token keyword">int</span> index <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>index <span class="token operator">&lt;</span> input<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        comments<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">+=</span> <span class="token string">" "</span> <span class="token operator">+</span> input<span class="token punctuation">[</span>index<span class="token operator">++</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// 读取根评论内容并添加到第一层评论列表中</span>
        <span class="token keyword">int</span> childNum <span class="token operator">=</span> <span class="token function">stoi</span><span class="token punctuation">(</span>input<span class="token punctuation">[</span>index<span class="token operator">++</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 读取子评论数量</span>

        <span class="token comment">// 递归读取子评论</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span>childNum <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            childNum<span class="token operator">--</span><span class="token punctuation">;</span>
            pair<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token operator">&gt;</span> result <span class="token operator">=</span> <span class="token function">read</span><span class="token punctuation">(</span>input<span class="token punctuation">,</span> comments<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> index<span class="token punctuation">)</span><span class="token punctuation">;</span>
            depth <span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span>result<span class="token punctuation">.</span>first<span class="token punctuation">,</span> depth<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 更新评论的最大深度</span>
            index <span class="token operator">=</span> result<span class="token punctuation">.</span>second<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 输出评论的最大深度和每一层的评论内容</span>
    cout <span class="token operator">&lt;&lt;</span> depth <span class="token operator">+</span> <span class="token number">1</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> string <span class="token operator">&amp;</span>com <span class="token operator">:</span> comments<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        cout <span class="token operator">&lt;&lt;</span> com<span class="token punctuation">.</span><span class="token function">substr</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre> 
<h4><a id="Java_211"></a>Java</h4> 
<pre><code class="prism language-java"><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Scanner</span><span class="token punctuation">;</span>  
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">ArrayList</span><span class="token punctuation">;</span> 
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span></span><span class="token class-name">StringBuilder</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span></span><span class="token class-name">Math</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Main</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">// 递归读取评论，参数：input为输入列表，comments为评论列表，curDepth为当前深度，index为当前处理的输入索引</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">read</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> input<span class="token punctuation">,</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">StringBuilder</span><span class="token punctuation">&gt;</span></span> comments<span class="token punctuation">,</span> <span class="token keyword">int</span> curDepth<span class="token punctuation">,</span> <span class="token keyword">int</span> index<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// 如果当前深度大于等于评论列表的大小，则添加一个新的StringBuilder</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>curDepth <span class="token operator">&gt;=</span> comments<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            comments<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">StringBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token comment">// 读取评论内容并添加到对应深度的评论列表中</span>
        <span class="token class-name">StringBuilder</span> rootCom <span class="token operator">=</span> comments<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>curDepth<span class="token punctuation">)</span><span class="token punctuation">;</span>
        rootCom<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">' '</span> <span class="token operator">+</span> input<span class="token punctuation">[</span>index<span class="token operator">++</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 读取子评论数量</span>
        <span class="token keyword">int</span> childNum <span class="token operator">=</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">parseInt</span><span class="token punctuation">(</span>input<span class="token punctuation">[</span>index<span class="token operator">++</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> depth <span class="token operator">=</span> curDepth<span class="token punctuation">;</span>

        <span class="token comment">// 递归读取子评论</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span>childNum <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            childNum<span class="token operator">--</span><span class="token punctuation">;</span>
            <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> result <span class="token operator">=</span> <span class="token function">read</span><span class="token punctuation">(</span>input<span class="token punctuation">,</span> comments<span class="token punctuation">,</span> curDepth <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> index<span class="token punctuation">)</span><span class="token punctuation">;</span>
            depth <span class="token operator">=</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>result<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> depth<span class="token punctuation">)</span><span class="token punctuation">;</span>
            index <span class="token operator">=</span> result<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">{<!-- --></span>depth<span class="token punctuation">,</span> index<span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// 使用逗号和空格作为分隔符创建Scanner对象</span>
        <span class="token class-name">Scanner</span> sc <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Scanner</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span>in<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">useDelimiter</span><span class="token punctuation">(</span><span class="token string">",|\\s"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> inputLine <span class="token operator">=</span> sc<span class="token punctuation">.</span><span class="token function">nextLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 读取输入行</span>
        <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> input <span class="token operator">=</span> inputLine<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">",|\\s"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 将输入行按逗号和空格分割成字符串数组</span>
        <span class="token keyword">int</span> depth <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment">// 初始化评论的最大深度为0</span>
        <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">StringBuilder</span><span class="token punctuation">&gt;</span></span> comments <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">StringBuilder</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 创建评论列表</span>
        comments<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">StringBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 添加第一层评论的StringBuilder</span>

        <span class="token comment">// 读取评论并处理</span>
        <span class="token keyword">int</span> index <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span>index <span class="token operator">&lt;</span> input<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token class-name">StringBuilder</span> rootCom <span class="token operator">=</span> comments<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            rootCom<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">' '</span> <span class="token operator">+</span> input<span class="token punctuation">[</span>index<span class="token operator">++</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 读取根评论内容并添加到第一层评论列表中</span>
            <span class="token keyword">int</span> childNum <span class="token operator">=</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">parseInt</span><span class="token punctuation">(</span>input<span class="token punctuation">[</span>index<span class="token operator">++</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 读取子评论数量</span>

            <span class="token comment">// 递归读取子评论</span>
            <span class="token keyword">while</span> <span class="token punctuation">(</span>childNum <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                childNum<span class="token operator">--</span><span class="token punctuation">;</span>
                <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> result <span class="token operator">=</span> <span class="token function">read</span><span class="token punctuation">(</span>input<span class="token punctuation">,</span> comments<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> index<span class="token punctuation">)</span><span class="token punctuation">;</span>
                depth <span class="token operator">=</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>result<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> depth<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 更新评论的最大深度</span>
                index <span class="token operator">=</span> result<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>

        <span class="token comment">// 输出评论的最大深度和每一层的评论内容</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>depth <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">StringBuilder</span> com <span class="token operator">:</span> comments<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>com<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> 
<h4><a id="Python_281"></a>Python</h4> 
<pre><code class="prism language-py"><span class="token keyword">import</span> sys

<span class="token comment"># 递归读取评论，参数：input_data为输入列表，comments为评论列表，cur_depth为当前深度，index为当前处理的输入索引</span>
<span class="token keyword">def</span> <span class="token function">read</span><span class="token punctuation">(</span>input_data<span class="token punctuation">,</span> comments<span class="token punctuation">,</span> cur_depth<span class="token punctuation">,</span> index<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token comment"># 如果当前深度大于等于评论列表的大小，则添加一个新的空字符串</span>
    <span class="token keyword">if</span> cur_depth <span class="token operator">&gt;=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>comments<span class="token punctuation">)</span><span class="token punctuation">:</span>
        comments<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span>

    <span class="token comment"># 读取评论内容并添加到对应深度的评论列表中</span>
    comments<span class="token punctuation">[</span>cur_depth<span class="token punctuation">]</span> <span class="token operator">+=</span> <span class="token string">' '</span> <span class="token operator">+</span> input_data<span class="token punctuation">[</span>index<span class="token punctuation">]</span>
    index <span class="token operator">+=</span> <span class="token number">1</span>

    <span class="token comment"># 读取子评论数量</span>
    child_num <span class="token operator">=</span> <span class="token builtin">int</span><span class="token punctuation">(</span>input_data<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">)</span>
    index <span class="token operator">+=</span> <span class="token number">1</span>
    depth <span class="token operator">=</span> cur_depth

    <span class="token comment"># 递归读取子评论</span>
    <span class="token keyword">while</span> child_num <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">:</span>
        child_num <span class="token operator">-=</span> <span class="token number">1</span>
        result <span class="token operator">=</span> read<span class="token punctuation">(</span>input_data<span class="token punctuation">,</span> comments<span class="token punctuation">,</span> cur_depth <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> index<span class="token punctuation">)</span>
        depth <span class="token operator">=</span> <span class="token builtin">max</span><span class="token punctuation">(</span>result<span class="token punctuation">[</span><span class="token string">'depth'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> depth<span class="token punctuation">)</span>
        index <span class="token operator">=</span> result<span class="token punctuation">[</span><span class="token string">'index'</span><span class="token punctuation">]</span>

    <span class="token keyword">return</span> <span class="token punctuation">{<!-- --></span><span class="token string">'depth'</span><span class="token punctuation">:</span> depth<span class="token punctuation">,</span> <span class="token string">'index'</span><span class="token punctuation">:</span> index<span class="token punctuation">}</span>

<span class="token comment"># 读取输入行</span>
input_line <span class="token operator">=</span> sys<span class="token punctuation">.</span>stdin<span class="token punctuation">.</span>readline<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>strip<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment"># 将输入行按逗号和空格分割成字符串数组</span>
input_data <span class="token operator">=</span> input_line<span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token string">','</span><span class="token punctuation">)</span>

<span class="token comment"># 初始化评论的最大深度为0</span>
depth <span class="token operator">=</span> <span class="token number">0</span>

<span class="token comment"># 创建评论列表</span>
comments <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">''</span><span class="token punctuation">]</span>

<span class="token comment"># 读取评论并处理</span>
index <span class="token operator">=</span> <span class="token number">0</span>
<span class="token keyword">while</span> index <span class="token operator">&lt;</span> <span class="token builtin">len</span><span class="token punctuation">(</span>input_data<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token comment"># 读取根评论内容并添加到第一层评论列表中</span>
    comments<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">+=</span> <span class="token string">' '</span> <span class="token operator">+</span> input_data<span class="token punctuation">[</span>index<span class="token punctuation">]</span>
    index <span class="token operator">+=</span> <span class="token number">1</span>

    <span class="token comment"># 读取子评论数量</span>
    child_num <span class="token operator">=</span> <span class="token builtin">int</span><span class="token punctuation">(</span>input_data<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">)</span>
    index <span class="token operator">+=</span> <span class="token number">1</span>

    <span class="token comment"># 递归读取子评论</span>
    <span class="token keyword">while</span> child_num <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">:</span>
        child_num <span class="token operator">-=</span> <span class="token number">1</span>
        result <span class="token operator">=</span> read<span class="token punctuation">(</span>input_data<span class="token punctuation">,</span> comments<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> index<span class="token punctuation">)</span>
        depth <span class="token operator">=</span> <span class="token builtin">max</span><span class="token punctuation">(</span>result<span class="token punctuation">[</span><span class="token string">'depth'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> depth<span class="token punctuation">)</span>  <span class="token comment"># 更新评论的最大深度</span>
        index <span class="token operator">=</span> result<span class="token punctuation">[</span><span class="token string">'index'</span><span class="token punctuation">]</span>

<span class="token comment"># 输出评论的最大深度和每一层的评论内容</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>depth <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span>
<span class="token keyword">for</span> com <span class="token keyword">in</span> comments<span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>com<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

</code></pre> 
<h4><a id="javascript_349"></a>javascript</h4> 
<pre><code class="prism language-js"><span class="token keyword">let</span> readline <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'readline'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 导入readline库，用于读取输入</span>

<span class="token comment">// 递归读取评论，参数：input为输入列表，comments为评论列表，curDepth为当前深度，index为当前处理的输入索引</span>
<span class="token keyword">function</span> <span class="token function">read</span><span class="token punctuation">(</span><span class="token parameter">input<span class="token punctuation">,</span> comments<span class="token punctuation">,</span> curDepth<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">// 如果当前深度大于等于评论列表的大小，则添加一个新的空字符串</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>curDepth <span class="token operator">&gt;=</span> comments<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        comments<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 读取评论内容并添加到对应深度的评论列表中</span>
    comments<span class="token punctuation">[</span>curDepth<span class="token punctuation">]</span> <span class="token operator">+=</span> <span class="token string">' '</span> <span class="token operator">+</span> input<span class="token punctuation">[</span>index<span class="token operator">++</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

    <span class="token comment">// 读取子评论数量</span>
    <span class="token keyword">let</span> childNum <span class="token operator">=</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>input<span class="token punctuation">[</span>index<span class="token operator">++</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> depth <span class="token operator">=</span> curDepth<span class="token punctuation">;</span>

    <span class="token comment">// 递归读取子评论</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>childNum <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        childNum<span class="token operator">--</span><span class="token punctuation">;</span>
        <span class="token keyword">let</span> result <span class="token operator">=</span> <span class="token function">read</span><span class="token punctuation">(</span>input<span class="token punctuation">,</span> comments<span class="token punctuation">,</span> curDepth <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> index<span class="token punctuation">)</span><span class="token punctuation">;</span>
        depth <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>result<span class="token punctuation">.</span>depth<span class="token punctuation">,</span> depth<span class="token punctuation">)</span><span class="token punctuation">;</span>
        index <span class="token operator">=</span> result<span class="token punctuation">.</span>index<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> <span class="token punctuation">{<!-- --></span> depth<span class="token punctuation">,</span> index <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> rl <span class="token operator">=</span> readline<span class="token punctuation">.</span><span class="token function">createInterface</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
    input<span class="token operator">:</span> process<span class="token punctuation">.</span>stdin<span class="token punctuation">,</span>
    output<span class="token operator">:</span> process<span class="token punctuation">.</span>stdout
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

rl<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'line'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">inputLine</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">let</span> input <span class="token operator">=</span> inputLine<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">,|\s</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 将输入行按逗号和空格分割成字符串数组</span>
    <span class="token keyword">let</span> depth <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment">// 初始化评论的最大深度为0</span>
    <span class="token keyword">let</span> comments <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">''</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// 创建评论列表</span>

    <span class="token comment">// 读取评论并处理</span>
    <span class="token keyword">let</span> index <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>index <span class="token operator">&lt;</span> input<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        comments<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">+=</span> <span class="token string">' '</span> <span class="token operator">+</span> input<span class="token punctuation">[</span>index<span class="token operator">++</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// 读取根评论内容并添加到第一层评论列表中</span>
        <span class="token keyword">let</span> childNum <span class="token operator">=</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>input<span class="token punctuation">[</span>index<span class="token operator">++</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 读取子评论数量</span>

        <span class="token comment">// 递归读取子评论</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span>childNum <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            childNum<span class="token operator">--</span><span class="token punctuation">;</span>
            <span class="token keyword">let</span> result <span class="token operator">=</span> <span class="token function">read</span><span class="token punctuation">(</span>input<span class="token punctuation">,</span> comments<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> index<span class="token punctuation">)</span><span class="token punctuation">;</span>
            depth <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>result<span class="token punctuation">.</span>depth<span class="token punctuation">,</span> depth<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 更新评论的最大深度</span>
            index <span class="token operator">=</span> result<span class="token punctuation">.</span>index<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 输出评论的最大深度和每一层的评论内容</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>depth <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> com <span class="token keyword">of</span> comments<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>com<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    rl<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre> 
<p></p> 
<div class="toc"> 
 <h4>文章目录</h4> 
 <ul><li><ul><li><ul><li><a href="#_1" rel="nofollow">题目描述</a></li><li><a href="#_32" rel="nofollow">输入描述</a></li><li><a href="#_44" rel="nofollow">输出描述</a></li><li><a href="#1_48" rel="nofollow">用例1</a></li><li><a href="#2_68" rel="nofollow">用例2</a></li><li><a href="#3_90" rel="nofollow">用例3</a></li><li><a href="#_116" rel="nofollow">题目解析</a></li><li><a href="#C_134" rel="nofollow">C++</a></li><li><a href="#Java_211" rel="nofollow">Java</a></li><li><a href="#Python_281" rel="nofollow">Python</a></li><li><a href="#javascript_349" rel="nofollow">javascript</a></li></ul> 
  </li></ul> 
 </li></ul> 
</div> 
<p></p> 
<p><img src="https://img-blog.csdnimg.cn/img_convert/b98429f56d7b21e9abb6e238d4c69d08.png" alt="fengmian"></p>
                </div>
</body>
</html>

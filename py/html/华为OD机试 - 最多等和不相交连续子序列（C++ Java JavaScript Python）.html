
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Document</title>
</head>
<body>
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h4><a id="_1"></a>题目描述</h4> 
<p>给定一个数组，我们称其中连续的元素为连续子序列，称这些元素的和为连续子序列的和。</p> 
<p>数组中可能存在几组连续子序列，组内的连续子序列互不相交且有相同的和。</p> 
<p>求一组连续子序列，组内子序列的数目最多。</p> 
<p>输出这个数目。</p> 
<h4><a id="_11"></a>输入描述</h4> 
<p>第一行输入为数组长度N，1&lt;=N&lt;=10^3</p> 
<p>第二行为N个用空格分开的整数 Ci，-10^5 &lt;= Ci &lt;= 10^5</p> 
<h4><a id="_17"></a>输出描述</h4> 
<p>第一行是一个整数M，表示满足要求的最多的组内子序列的数目。</p> 
<h4><a id="_21"></a>用例</h4> 
<table><tbody><tr><td>输入</td><td>10<br>8 8 9 1 9 6 3 9 1 0</td></tr><tr><td>输出</td><td>4</td></tr><tr><td>说明</td><td><p>四个子序列的第一个元素和最后一个元素的下标分别为</p><p>2 2</p><p>4 4</p><p>5 6</p><p>7 7</p></td></tr></tbody></table> 
<table><tbody><tr><td>输入</td><td>10<br>-1 0 4 -3 6 5 -6 5 -7 -3</td></tr><tr><td>输出</td><td>3</td></tr><tr><td>说明</td><td><p>三个子序列的第一个元素和最后一个元素的下标分别为：</p><p>3 3</p><p>5 8</p><p>9 9</p></td></tr></tbody></table> 
<h4><a id="_27"></a>题目解析</h4> 
<p>最简单的：</p> 
<p>如果不考虑复杂度，使用两个for循环来暴力求解所有的连续子序列，因为长度只有1000个。应该不会超时！</p> 
<p>如果怕超时，可以使用动态规划前缀和来解：</p> 
<p>1、将<strong>和相同</strong>的连续子序列的区间统计在一起</p> 
<p><img src="https://i-blog.csdnimg.cn/blog_migrate/fd714bfe98345a054b98d0c0b9bec45e.png" alt="image-20230305161155247"></p> 
<p>2、求解每个“和” 下的最大不相交区间数量，保留最大数量作为题解</p> 
<p>假设不相交区间数量为count，则至少为1</p> 
<p>1、先将多个区间，按照右边界升序</p> 
<p>2、然后取排序后第一个区间的右边界作为 t，并遍历之后的下一个区间[l, r]：</p> 
<ul><li>如果 l &lt;= t，则说明当前两个区间有交集，则舍弃遍历的区间，继续遍历下一个区间</li><li>如果 l &gt; t，则说明当前两个区间无交集，即不相交，此时 t = r，并且不相交区间数量count++，然后继续下一次遍历</li></ul> 
<p>这样最后得到的不相交区间数量count，就是最大不相交区间数量</p>
                </div>
</body>
</html>

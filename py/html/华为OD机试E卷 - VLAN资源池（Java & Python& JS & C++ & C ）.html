
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Document</title>
</head>
<body>
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h2><a id="OD_0"></a>最新华为OD机试</h2> 
<p><font color="RED">真题目录：<a href="https://blog.csdn.net/banxia_frontend/article/details/129640773">点击查看目录</a> </font><br> <font color="RED"> 华为OD面试真题精选：<a href="https://blog.csdn.net/banxia_frontend/category_12436481.html">点击立即查看</a></font></p> 
<h2><a id="_4"></a>题目描述</h2> 
<p>VLAN是一种对局域网设备进行逻辑划分的技术，为了标识不同的VLAN，引入VLAN ID(1-4094之间的整数)的概念。</p> 
<p>定义一个VLAN ID的资源池(下称VLAN资源池)，资源池中连续的VLAN用开始VLAN-结束VLAN表示，不连续的用单个整数表示，所有的VLAN用英文逗号连接起来。</p> 
<p>现在有一个VLAN资源池，业务需要从资源池中申请一个VLAN，需要你输出从VLAN资源池中移除申请的VLAN后的资源池。</p> 
<h2><a id="_14"></a>输入描述</h2> 
<p>第一行为字符串格式的VLAN资源池，第二行为业务要申请的VLAN，VLAN的取值范围为[1,4094]之间的整数。</p> 
<h2><a id="_19"></a>输出描述</h2> 
<p>从输入VLAN资源池中移除申请的VLAN后字符串格式的VLAN资源池，输出要求满足题目描述中的格式，并且按照VLAN从小到大升序输出。<br> 如果申请的VLAN不在原VLAN资源池内，输出原VLAN资源池升序排序后的字符串即可。</p> 
<h2><a id="1_24"></a>示例1</h2> 
<p>输入</p> 
<pre><code>1-5
2
</code></pre> 
<p>输出</p> 
<pre><code>1,3-5
</code></pre> 
<p>说明</p> 
<blockquote> 
 <p>原VLAN资源池中有VLAN 1、2、3、4、5，从资源池中移除2后，剩下VLAN 1、3、4、5，按照题目描述格式并升序后的结果为1,3-5</p> 
</blockquote> 
<h2><a id="2_43"></a>示例2</h2> 
<p>输入</p> 
<pre><code>20-21,15,18,30,5-10
15
</code></pre> 
<p>输出</p> 
<pre><code>5-10,18,20-21,30
</code></pre> 
<p>说明</p> 
<blockquote> 
 <p>原VLAN资源池中有VLAN 5、6、7、8、9、10、15、18、20、21、30，从资源池中移除15后，资源池中剩下的VLAN为 5、6、7、8、9、10、18、20、21、30，按照题目描述格式并升序后的结果为5-10,18,20-21,30。</p> 
</blockquote> 
<h2><a id="3_62"></a>示例3</h2> 
<p>输入</p> 
<pre><code>5,1-3
10
</code></pre> 
<p>输出</p> 
<pre><code>1-3,5
</code></pre> 
<p>说明</p> 
<blockquote> 
 <p>原VLAN资源池中有VLAN 1、2、3，5，申请的VLAN 10不在原资源池中，将原资源池按照题目描述格式并按升序排序后输出的结果为1-3,5。</p> 
</blockquote> 
<h2><a id="_81"></a>解题思路</h2> 
<ul><li> <p><strong>VLAN</strong>（虚拟局域网）是一种网络技术，用来对局域网中的设备进行逻辑划分。每个VLAN通过一个 <strong>VLAN ID</strong> 来标识，取值范围是 1 到 4094 的整数。题目中的任务是处理一个字符串格式的 VLAN 资源池，模拟从资源池中申请并移除某个 VLAN，然后返回剩余的资源池。</p> <h5><a id="_87"></a>任务：</h5> 
  <ol><li> <p>输入</p> <p>包含两个部分：</p> 
    <ul><li><strong>VLAN资源池</strong>：用字符串表示，可能是单个 VLAN ID，或者是多个 VLAN ID 或 VLAN ID 范围（用"-"连接），各个 VLAN 或范围之间用逗号连接。</li><li><strong>要申请的 VLAN</strong>：一个需要移除的 VLAN ID。</li></ul> </li><li> <p>输出</p> <p>：</p> 
    <ul><li>从资源池中移除申请的 VLAN 后，输出剩余的 VLAN 资源池，按从小到大的顺序排列，且格式必须符合题目的描述。</li></ul> </li></ol> <h5><a id="_102"></a>输出格式：</h5> 
  <ul><li><strong>连续的 VLAN ID</strong> 应该用范围的方式表示，如 <code>1-5</code> 表示 VLAN 1, 2, 3, 4, 5。</li><li><strong>不连续的 VLAN ID</strong> 用逗号分隔，如 <code>1,3-5</code>。</li></ul> <h4><a id="_107"></a>示例分析：</h4> <h5><a id="_1_109"></a>示例 1：</h5> <p>输入：</p> <pre><code>1-5
2
</code></pre> <p>解释：</p> 
  <ul><li>原始资源池有 VLAN 1, 2, 3, 4, 5。</li><li>申请的 VLAN 是 2，所以移除 2 后，剩下的 VLAN 是 1, 3, 4, 5。</li><li>格式化输出为：<code>1,3-5</code>。</li></ul> <h5><a id="_2_124"></a>示例 2：</h5> <p>输入：</p> <pre><code>20-21,15,18,30,5-10
15
</code></pre> <p>解释：</p> 
  <ul><li>原始资源池有 VLAN 5, 6, 7, 8, 9, 10, 15, 18, 20, 21, 30。</li><li>申请的 VLAN 是 15，移除 15 后，剩下的 VLAN 是 5, 6, 7, 8, 9, 10, 18, 20, 21, 30。</li><li>格式化输出为：<code>5-10,18,20-21,30</code>。</li></ul> <h5><a id="_3_139"></a>示例 3：</h5> <p>输入：</p> <pre><code>5,1-3
10
</code></pre> <p>解释：</p> 
  <ul><li>原始资源池有 VLAN 1, 2, 3, 5。</li><li>申请的 VLAN 是 10，不在资源池中，所以资源池保持不变。</li><li>格式化输出为：<code>1-3,5</code>。</li></ul> </li></ul> 
<h2><a id="Java_156"></a>Java</h2> 
<pre><code class="prism language-java"><span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Main</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">Scanner</span> sc <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Scanner</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span>in<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 输入VLAN资源池</span>
        <span class="token class-name">String</span> input <span class="token operator">=</span> sc<span class="token punctuation">.</span><span class="token function">nextLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 输入业务要申请的VLAN</span>
        <span class="token class-name">Integer</span> destVlan <span class="token operator">=</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">parseInt</span><span class="token punctuation">(</span>sc<span class="token punctuation">.</span><span class="token function">nextLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 解析VLAN资源池</span>
        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> vlanPool <span class="token operator">=</span> <span class="token function">parseVlanPool</span><span class="token punctuation">(</span>input<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 对VLAN资源池进行升序排序</span>
        <span class="token class-name">Collections</span><span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span>vlanPool<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 从VLAN资源池中移除申请的VLAN</span>
        vlanPool<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>destVlan<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 格式化VLAN资源池</span>
        <span class="token class-name">String</span> result <span class="token operator">=</span> <span class="token function">formatVlanPool</span><span class="token punctuation">(</span>vlanPool<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 解析VLAN资源池</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> <span class="token function">parseVlanPool</span><span class="token punctuation">(</span><span class="token class-name">String</span> input<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> vlanPool <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 根据逗号分割VLAN资源池中的VLAN</span>
        <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> vlanGroup <span class="token operator">=</span> input<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">","</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">String</span> vlanItem <span class="token operator">:</span> vlanGroup<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>vlanItem<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span><span class="token string">"-"</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                <span class="token comment">// 如果VLAN是连续的，根据连字符分割开始VLAN和结束VLAN</span>
                <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> vlanItems <span class="token operator">=</span> vlanItem<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">"-"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token class-name">Integer</span> start <span class="token operator">=</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">parseInt</span><span class="token punctuation">(</span>vlanItems<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token class-name">Integer</span> end <span class="token operator">=</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">parseInt</span><span class="token punctuation">(</span>vlanItems<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token comment">// 将连续的VLAN添加到VLAN资源池中</span>
                <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> start<span class="token punctuation">;</span> j <span class="token operator">&lt;=</span> end<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                    vlanPool<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>j<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
                <span class="token comment">// 如果VLAN是单个的，直接添加到VLAN资源池中</span>
                vlanPool<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">parseInt</span><span class="token punctuation">(</span>vlanItem<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> vlanPool<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 格式化VLAN资源池</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">String</span> <span class="token function">formatVlanPool</span><span class="token punctuation">(</span><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> vlanPool<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">StringBuilder</span> result <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Integer</span> last <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> index <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> index <span class="token operator">&lt;</span> vlanPool<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> index<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>last <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                <span class="token comment">// 如果是第一个VLAN，直接添加到结果中</span>
                result<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>vlanPool<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                last <span class="token operator">=</span> vlanPool<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>vlanPool<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span> <span class="token operator">-</span> last <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                    <span class="token comment">// 如果与上一个VLAN相差1，表示是连续的VLAN</span>
                    <span class="token keyword">if</span> <span class="token punctuation">(</span>result<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">endsWith</span><span class="token punctuation">(</span><span class="token string">"-"</span> <span class="token operator">+</span> last<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                        <span class="token comment">// 如果结果中最后一个VLAN已经是连续的VLAN的结束VLAN，替换为当前VLAN</span>
                        result<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span>result<span class="token punctuation">.</span><span class="token function">lastIndexOf</span><span class="token punctuation">(</span>last<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> result<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> vlanPool<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
                        <span class="token comment">// 否则添加连字符和当前VLAN</span>
                        result<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">"-"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>vlanPool<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
                    <span class="token comment">// 如果与上一个VLAN不连续，直接添加逗号和当前VLAN</span>
                    result<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">","</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>vlanPool<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
                last <span class="token operator">=</span> vlanPool<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> result<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>


</code></pre> 
<h2><a id="Python_240"></a>Python</h2> 
<pre><code class="prism language-python"><span class="token keyword">import</span> sys

<span class="token comment"># 输入VLAN资源池</span>
vlan_pool_input <span class="token operator">=</span> <span class="token builtin">input</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment"># 输入业务要申请的VLAN</span>
dest_vlan <span class="token operator">=</span> <span class="token builtin">int</span><span class="token punctuation">(</span><span class="token builtin">input</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment"># 定义存储VLAN的列表</span>
vlan_pool <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>

<span class="token comment"># 将输入的VLAN资源池按逗号分隔为多个VLAN组</span>
vlan_group <span class="token operator">=</span> vlan_pool_input<span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token string">","</span><span class="token punctuation">)</span>

<span class="token comment"># 遍历每个VLAN组</span>
<span class="token keyword">for</span> vlan_item <span class="token keyword">in</span> vlan_group<span class="token punctuation">:</span>
    <span class="token comment"># 如果VLAN组中包含连续的VLAN</span>
    <span class="token keyword">if</span> <span class="token string">"-"</span> <span class="token keyword">in</span> vlan_item<span class="token punctuation">:</span>
        <span class="token comment"># 将连续的VLAN拆分为开始VLAN和结束VLAN</span>
        vlan_items <span class="token operator">=</span> vlan_item<span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token string">"-"</span><span class="token punctuation">)</span>
        start_vlan <span class="token operator">=</span> <span class="token builtin">int</span><span class="token punctuation">(</span>vlan_items<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
        end_vlan <span class="token operator">=</span> <span class="token builtin">int</span><span class="token punctuation">(</span>vlan_items<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
        <span class="token comment"># 将连续的VLAN添加到VLAN资源池中</span>
        <span class="token keyword">for</span> j <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>start_vlan<span class="token punctuation">,</span> end_vlan <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            vlan_pool<span class="token punctuation">.</span>append<span class="token punctuation">(</span>j<span class="token punctuation">)</span>
        <span class="token keyword">continue</span>
    <span class="token comment"># 如果VLAN组中只有一个VLAN</span>
    vlan_pool<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">(</span>vlan_item<span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment"># 对VLAN资源池进行升序排序</span>
vlan_pool<span class="token punctuation">.</span>sort<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment"># 如果申请的VLAN在VLAN资源池中</span>
<span class="token keyword">if</span> dest_vlan <span class="token keyword">in</span> vlan_pool<span class="token punctuation">:</span>
    <span class="token comment"># 从VLAN资源池中移除申请的VLAN</span>
    vlan_pool<span class="token punctuation">.</span>remove<span class="token punctuation">(</span>dest_vlan<span class="token punctuation">)</span>

<span class="token comment"># 定义存储结果的列表</span>
result <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token comment"># 定义上一个VLAN的变量</span>
last_vlan <span class="token operator">=</span> <span class="token boolean">None</span>

<span class="token comment"># 遍历VLAN资源池中的每个VLAN</span>
<span class="token keyword">for</span> index <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>vlan_pool<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token comment"># 如果是第一个VLAN</span>
    <span class="token keyword">if</span> last_vlan <span class="token keyword">is</span> <span class="token boolean">None</span><span class="token punctuation">:</span>
        result<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">(</span>vlan_pool<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        last_vlan <span class="token operator">=</span> vlan_pool<span class="token punctuation">[</span>index<span class="token punctuation">]</span>
        <span class="token keyword">continue</span>
    <span class="token comment"># 如果当前VLAN与上一个VLAN连续</span>
    <span class="token keyword">if</span> vlan_pool<span class="token punctuation">[</span>index<span class="token punctuation">]</span> <span class="token operator">-</span> last_vlan <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">:</span>
        <span class="token comment"># 如果结果列表中的最后一个元素以"-上一个VLAN"结尾</span>
        <span class="token keyword">if</span> result<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>endswith<span class="token punctuation">(</span><span class="token string">"-"</span> <span class="token operator">+</span> <span class="token builtin">str</span><span class="token punctuation">(</span>last_vlan<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token comment"># 将结果列表中的最后一个元素更新为"-当前VLAN"</span>
            result<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> result<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">:</span>result<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>rindex<span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">(</span>last_vlan<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token builtin">str</span><span class="token punctuation">(</span>vlan_pool<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">)</span>
        <span class="token keyword">else</span><span class="token punctuation">:</span>
            <span class="token comment"># 在结果列表中添加"-当前VLAN"</span>
            result<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token string">"-"</span> <span class="token operator">+</span> <span class="token builtin">str</span><span class="token punctuation">(</span>vlan_pool<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token keyword">else</span><span class="token punctuation">:</span>
        <span class="token comment"># 在结果列表中添加",当前VLAN"</span>
        result<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token string">","</span> <span class="token operator">+</span> <span class="token builtin">str</span><span class="token punctuation">(</span>vlan_pool<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    last_vlan <span class="token operator">=</span> vlan_pool<span class="token punctuation">[</span>index<span class="token punctuation">]</span>

<span class="token comment"># 输出结果列表中的VLAN资源池</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">.</span>join<span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre> 
<h2><a id="JavaScript_309"></a>JavaScript</h2> 
<pre><code class="prism language-js"><span class="token keyword">const</span> readline <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'readline'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> rl <span class="token operator">=</span> readline<span class="token punctuation">.</span><span class="token function">createInterface</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
  <span class="token literal-property property">input</span><span class="token operator">:</span> process<span class="token punctuation">.</span>stdin<span class="token punctuation">,</span>
  <span class="token literal-property property">output</span><span class="token operator">:</span> process<span class="token punctuation">.</span>stdout
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 输入VLAN资源池</span>
rl<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'line'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">vlan_pool_input</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
  <span class="token comment">// 输入业务要申请的VLAN</span>
  rl<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'line'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">dest_vlan_input</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">// 关闭读取接口</span>
    rl<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">const</span> dest_vlan <span class="token operator">=</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>dest_vlan_input<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 定义存储VLAN的列表</span>
    <span class="token keyword">const</span> vlan_pool <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

    <span class="token comment">// 将输入的VLAN资源池按逗号分隔为多个VLAN组</span>
    <span class="token keyword">const</span> vlan_group <span class="token operator">=</span> vlan_pool_input<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">","</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 遍历每个VLAN组</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> vlan_item <span class="token keyword">of</span> vlan_group<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      <span class="token comment">// 如果VLAN组中包含连续的VLAN</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>vlan_item<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token string">"-"</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// 将连续的VLAN拆分为开始VLAN和结束VLAN</span>
        <span class="token keyword">const</span> vlan_items <span class="token operator">=</span> vlan_item<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">"-"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">const</span> start_vlan <span class="token operator">=</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>vlan_items<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">const</span> end_vlan <span class="token operator">=</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>vlan_items<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 将连续的VLAN添加到VLAN资源池中</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> j <span class="token operator">=</span> start_vlan<span class="token punctuation">;</span> j <span class="token operator">&lt;=</span> end_vlan<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
          vlan_pool<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>j<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">continue</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token comment">// 如果VLAN组中只有一个VLAN</span>
      vlan_pool<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token function">parseInt</span><span class="token punctuation">(</span>vlan_item<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 对VLAN资源池进行升序排序</span>
    vlan_pool<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> a <span class="token operator">-</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 如果申请的VLAN在VLAN资源池中</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>vlan_pool<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span>dest_vlan<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      <span class="token comment">// 从VLAN资源池中移除申请的VLAN</span>
      vlan_pool<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span>vlan_pool<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span>dest_vlan<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 定义存储结果的列表</span>
    <span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token comment">// 定义上一个VLAN的变量</span>
    <span class="token keyword">let</span> last_vlan <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>

    <span class="token comment">// 遍历VLAN资源池中的每个VLAN</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> index <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> index <span class="token operator">&lt;</span> vlan_pool<span class="token punctuation">.</span>length<span class="token punctuation">;</span> index<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      <span class="token comment">// 如果是第一个VLAN</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>last_vlan <span class="token operator">===</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        result<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>vlan_pool<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        last_vlan <span class="token operator">=</span> vlan_pool<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">continue</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token comment">// 如果当前VLAN与上一个VLAN连续</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>vlan_pool<span class="token punctuation">[</span>index<span class="token punctuation">]</span> <span class="token operator">-</span> last_vlan <span class="token operator">===</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// 如果结果列表中的最后一个元素以"-上一个VLAN"结尾</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>result<span class="token punctuation">[</span>result<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">endsWith</span><span class="token punctuation">(</span><span class="token string">"-"</span> <span class="token operator">+</span> last_vlan<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
          <span class="token comment">// 将结果列表中的最后一个元素更新为"-当前VLAN"</span>
          result<span class="token punctuation">[</span>result<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> result<span class="token punctuation">[</span>result<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> result<span class="token punctuation">[</span>result<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">lastIndexOf</span><span class="token punctuation">(</span>last_vlan<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">+</span> vlan_pool<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
          <span class="token comment">// 在结果列表中添加"-当前VLAN"</span>
          result<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">"-"</span> <span class="token operator">+</span> vlan_pool<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// 在结果列表中添加",当前VLAN"</span>
        result<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">","</span> <span class="token operator">+</span> vlan_pool<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      last_vlan <span class="token operator">=</span> vlan_pool<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 输出结果列表中的VLAN资源池</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre> 
<h2><a id="C_399"></a>C++</h2> 
<pre><code class="prism language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;vector&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;sstream&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;algorithm&gt;</span></span>

using  namespace std<span class="token punctuation">;</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    string vlan_pool_input<span class="token punctuation">;</span> <span class="token comment">// 存储输入的VLAN资源池的字符串</span>
    <span class="token function">getline</span><span class="token punctuation">(</span>cin<span class="token punctuation">,</span> vlan_pool_input<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 获取输入的VLAN资源池的字符串</span>
    <span class="token keyword">int</span> dest_vlan<span class="token punctuation">;</span> <span class="token comment">// 存储业务要申请的VLAN</span>
    cin <span class="token operator">&gt;&gt;</span> dest_vlan<span class="token punctuation">;</span> <span class="token comment">// 获取业务要申请的VLAN</span>

    vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> vlan_pool<span class="token punctuation">;</span> <span class="token comment">// 存储VLAN资源池中的VLAN</span>
    stringstream <span class="token function">ss</span><span class="token punctuation">(</span>vlan_pool_input<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 使用字符串流解析VLAN资源池的字符串</span>
    string vlan_item<span class="token punctuation">;</span> <span class="token comment">// 存储解析出的每个VLAN</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token function">getline</span><span class="token punctuation">(</span>ss<span class="token punctuation">,</span> vlan_item<span class="token punctuation">,</span> <span class="token char">','</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span> <span class="token comment">// 按逗号分隔字符串，获取每个VLAN</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>vlan_item<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token char">'-'</span><span class="token punctuation">)</span> <span class="token operator">!=</span> string<span class="token operator">::</span>npos<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span> <span class="token comment">// 如果VLAN是连续的范围</span>
            stringstream <span class="token function">range_ss</span><span class="token punctuation">(</span>vlan_item<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 使用字符串流解析连续范围的字符串</span>
            string start_vlan_str<span class="token punctuation">,</span> end_vlan_str<span class="token punctuation">;</span> <span class="token comment">// 存储连续范围的起始VLAN和结束VLAN</span>
            <span class="token function">getline</span><span class="token punctuation">(</span>range_ss<span class="token punctuation">,</span> start_vlan_str<span class="token punctuation">,</span> <span class="token char">'-'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 获取起始VLAN</span>
            <span class="token function">getline</span><span class="token punctuation">(</span>range_ss<span class="token punctuation">,</span> end_vlan_str<span class="token punctuation">,</span> <span class="token char">'-'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 获取结束VLAN</span>
            <span class="token keyword">int</span> start_vlan <span class="token operator">=</span> <span class="token function">stoi</span><span class="token punctuation">(</span>start_vlan_str<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 将起始VLAN转换为整数</span>
            <span class="token keyword">int</span> end_vlan <span class="token operator">=</span> <span class="token function">stoi</span><span class="token punctuation">(</span>end_vlan_str<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 将结束VLAN转换为整数</span>
            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> start_vlan<span class="token punctuation">;</span> j <span class="token operator">&lt;=</span> end_vlan<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span> <span class="token comment">// 将连续范围内的VLAN添加到VLAN资源池中</span>
                vlan_pool<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>j<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span> <span class="token comment">// 如果VLAN是单个整数</span>
            vlan_pool<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token function">stoi</span><span class="token punctuation">(</span>vlan_item<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 将VLAN转换为整数并添加到VLAN资源池中</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token function">sort</span><span class="token punctuation">(</span>vlan_pool<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> vlan_pool<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 对VLAN资源池中的VLAN进行排序</span>

    <span class="token keyword">auto</span> it <span class="token operator">=</span> <span class="token function">find</span><span class="token punctuation">(</span>vlan_pool<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> vlan_pool<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> dest_vlan<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 查找业务要申请的VLAN在VLAN资源池中的位置</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>it <span class="token operator">!=</span> vlan_pool<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span> <span class="token comment">// 如果找到了业务要申请的VLAN</span>
        vlan_pool<span class="token punctuation">.</span><span class="token function">erase</span><span class="token punctuation">(</span>it<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 从VLAN资源池中移除业务要申请的VLAN</span>
    <span class="token punctuation">}</span>

    vector<span class="token operator">&lt;</span>string<span class="token operator">&gt;</span> result<span class="token punctuation">;</span> <span class="token comment">// 存储最终输出结果的字符串向量</span>
    <span class="token keyword">int</span> last_vlan <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">// 存储上一个输出的VLAN</span>

    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> vlan_pool<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span> <span class="token comment">// 遍历VLAN资源池中的VLAN</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>last_vlan <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span> <span class="token comment">// 如果是第一个输出的VLAN</span>
            result<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token function">to_string</span><span class="token punctuation">(</span>vlan_pool<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 将VLAN转换为字符串并添加到结果向量中</span>
            last_vlan <span class="token operator">=</span> vlan_pool<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// 更新上一个输出的VLAN</span>
            <span class="token keyword">continue</span><span class="token punctuation">;</span> <span class="token comment">// 继续下一次循环</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>vlan_pool<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">-</span> last_vlan <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span> <span class="token comment">// 如果当前VLAN与上一个输出的VLAN相差1</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>result<span class="token punctuation">.</span><span class="token function">back</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token char">'-'</span> <span class="token operator">+</span> <span class="token function">to_string</span><span class="token punctuation">(</span>last_vlan<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">!=</span> string<span class="token operator">::</span>npos<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span> <span class="token comment">// 如果结果向量的最后一个字符串包含连续范围的结束VLAN</span>
                result<span class="token punctuation">.</span><span class="token function">back</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span> result<span class="token punctuation">.</span><span class="token function">back</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">substr</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> result<span class="token punctuation">.</span><span class="token function">back</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">rfind</span><span class="token punctuation">(</span><span class="token function">to_string</span><span class="token punctuation">(</span>last_vlan<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token function">to_string</span><span class="token punctuation">(</span>vlan_pool<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 更新连续范围的结束VLAN</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span> <span class="token comment">// 如果结果向量的最后一个字符串不包含连续范围的结束VLAN</span>
                result<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token string">"-"</span> <span class="token operator">+</span> <span class="token function">to_string</span><span class="token punctuation">(</span>vlan_pool<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 在结果向量中添加连续范围的结束VLAN</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span> <span class="token comment">// 如果当前VLAN与上一个输出的VLAN不相差1</span>
            result<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token string">","</span> <span class="token operator">+</span> <span class="token function">to_string</span><span class="token punctuation">(</span>vlan_pool<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 在结果向量中添加当前VLAN</span>
        <span class="token punctuation">}</span>
        last_vlan <span class="token operator">=</span> vlan_pool<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// 更新上一个输出的VLAN</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> result<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span> <span class="token comment">// 遍历结果向量中的字符串</span>
        cout <span class="token operator">&lt;&lt;</span> result<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// 输出结果向量中的字符串</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre> 
<h2><a id="C_470"></a>C语言</h2> 
<pre><code class="prism language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdlib.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;string.h&gt;</span></span>

<span class="token comment">// 定义最大VLAN池的大小</span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">MAX_VLAN</span> <span class="token expression"><span class="token number">4096</span></span></span>

<span class="token comment">// 函数声明</span>
<span class="token keyword">void</span> <span class="token function">parseAndFilterVlanPool</span><span class="token punctuation">(</span><span class="token keyword">char</span> <span class="token operator">*</span>input<span class="token punctuation">,</span> <span class="token keyword">int</span> <span class="token operator">*</span>vlanPool<span class="token punctuation">,</span> <span class="token keyword">int</span> <span class="token operator">*</span>size<span class="token punctuation">,</span> <span class="token keyword">int</span> destVlan<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">void</span> <span class="token function">formatVlanPool</span><span class="token punctuation">(</span><span class="token keyword">int</span> <span class="token operator">*</span>vlanPool<span class="token punctuation">,</span> <span class="token keyword">int</span> size<span class="token punctuation">,</span> <span class="token keyword">char</span> <span class="token operator">*</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">// 存储输入的VLAN资源池和业务申请的VLAN</span>
    <span class="token keyword">char</span> input<span class="token punctuation">[</span><span class="token number">1000</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> destVlan<span class="token punctuation">;</span>

    <span class="token function">fgets</span><span class="token punctuation">(</span>input<span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>input<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token constant">stdin</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    input<span class="token punctuation">[</span><span class="token function">strcspn</span><span class="token punctuation">(</span>input<span class="token punctuation">,</span> <span class="token string">"\n"</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>  <span class="token comment">// 去除换行符</span>

    <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>destVlan<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 定义VLAN池数组，用于存储解析后的VLAN，最大为MAX_VLAN</span>
    <span class="token keyword">int</span> vlanPool<span class="token punctuation">[</span>MAX_VLAN<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> size <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

    <span class="token comment">// 解析并过滤VLAN资源池（在解析过程中自动移除目标VLAN）</span>
    <span class="token function">parseAndFilterVlanPool</span><span class="token punctuation">(</span>input<span class="token punctuation">,</span> vlanPool<span class="token punctuation">,</span> <span class="token operator">&amp;</span>size<span class="token punctuation">,</span> destVlan<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 定义用于格式化输出的字符串</span>
    <span class="token keyword">char</span> result<span class="token punctuation">[</span><span class="token number">1000</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">;</span>
    
    <span class="token comment">// 格式化VLAN资源池</span>
    <span class="token function">formatVlanPool</span><span class="token punctuation">(</span>vlanPool<span class="token punctuation">,</span> size<span class="token punctuation">,</span> result<span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    <span class="token comment">// 输出结果</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%s\n"</span><span class="token punctuation">,</span> result<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

 
<span class="token keyword">void</span> <span class="token function">parseAndFilterVlanPool</span><span class="token punctuation">(</span><span class="token keyword">char</span> <span class="token operator">*</span>input<span class="token punctuation">,</span> <span class="token keyword">int</span> <span class="token operator">*</span>vlanPool<span class="token punctuation">,</span> <span class="token keyword">int</span> <span class="token operator">*</span>size<span class="token punctuation">,</span> <span class="token keyword">int</span> destVlan<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">char</span> <span class="token operator">*</span>token <span class="token operator">=</span> <span class="token function">strtok</span><span class="token punctuation">(</span>input<span class="token punctuation">,</span> <span class="token string">","</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 使用逗号分割字符串</span>
    
    <span class="token comment">// 解析每个VLAN或VLAN范围</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>token <span class="token operator">!=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">strchr</span><span class="token punctuation">(</span>token<span class="token punctuation">,</span> <span class="token char">'-'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token comment">// 如果包含连字符"-"，则为VLAN范围</span>
            <span class="token keyword">int</span> start<span class="token punctuation">,</span> end<span class="token punctuation">;</span>
            <span class="token function">sscanf</span><span class="token punctuation">(</span>token<span class="token punctuation">,</span> <span class="token string">"%d-%d"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>start<span class="token punctuation">,</span> <span class="token operator">&amp;</span>end<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 解析范围的起始和结束VLAN</span>
            
            <span class="token comment">// 将范围内的VLAN逐个加入VLAN池，同时移除目标VLAN</span>
            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> start<span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> end<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">==</span> destVlan<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                    <span class="token keyword">continue</span><span class="token punctuation">;</span>  <span class="token comment">// 跳过目标VLAN</span>
                <span class="token punctuation">}</span>
                <span class="token comment">// 将VLAN加入有序数组</span>
                <span class="token keyword">int</span> j<span class="token punctuation">;</span>
                <span class="token keyword">for</span> <span class="token punctuation">(</span>j <span class="token operator">=</span> <span class="token operator">*</span>size <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> j <span class="token operator">&gt;=</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> vlanPool<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">&gt;</span> i<span class="token punctuation">;</span> j<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                    vlanPool<span class="token punctuation">[</span>j <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> vlanPool<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
                vlanPool<span class="token punctuation">[</span>j <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> i<span class="token punctuation">;</span>
                <span class="token punctuation">(</span><span class="token operator">*</span>size<span class="token punctuation">)</span><span class="token operator">++</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
            <span class="token comment">// 如果是单个VLAN，直接处理</span>
            <span class="token keyword">int</span> vlan <span class="token operator">=</span> <span class="token function">atoi</span><span class="token punctuation">(</span>token<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>vlan <span class="token operator">==</span> destVlan<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                token <span class="token operator">=</span> <span class="token function">strtok</span><span class="token punctuation">(</span><span class="token constant">NULL</span><span class="token punctuation">,</span> <span class="token string">","</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">continue</span><span class="token punctuation">;</span>  <span class="token comment">// 跳过目标VLAN</span>
            <span class="token punctuation">}</span>
            <span class="token comment">// 将VLAN插入到有序数组中</span>
            <span class="token keyword">int</span> j<span class="token punctuation">;</span>
            <span class="token keyword">for</span> <span class="token punctuation">(</span>j <span class="token operator">=</span> <span class="token operator">*</span>size <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> j <span class="token operator">&gt;=</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> vlanPool<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">&gt;</span> vlan<span class="token punctuation">;</span> j<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                vlanPool<span class="token punctuation">[</span>j <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> vlanPool<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            vlanPool<span class="token punctuation">[</span>j <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> vlan<span class="token punctuation">;</span>
            <span class="token punctuation">(</span><span class="token operator">*</span>size<span class="token punctuation">)</span><span class="token operator">++</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token comment">// 获取下一个VLAN或VLAN范围</span>
        token <span class="token operator">=</span> <span class="token function">strtok</span><span class="token punctuation">(</span><span class="token constant">NULL</span><span class="token punctuation">,</span> <span class="token string">","</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// 格式化VLAN池为要求的字符串格式</span>
<span class="token keyword">void</span> <span class="token function">formatVlanPool</span><span class="token punctuation">(</span><span class="token keyword">int</span> <span class="token operator">*</span>vlanPool<span class="token punctuation">,</span> <span class="token keyword">int</span> size<span class="token punctuation">,</span> <span class="token keyword">char</span> <span class="token operator">*</span>result<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">int</span> last <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>  <span class="token comment">// 上一个处理的VLAN</span>
    <span class="token keyword">int</span> start <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">// 范围的起始VLAN</span>
    
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> size<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>last <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token comment">// 第一个VLAN直接添加</span>
            start <span class="token operator">=</span> vlanPool<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
            last <span class="token operator">=</span> vlanPool<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>vlanPool<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> last <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token comment">// 如果当前VLAN与上一个连续，继续处理</span>
            last <span class="token operator">=</span> vlanPool<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
            <span class="token comment">// 如果不连续，检查是否是一个范围</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>start <span class="token operator">==</span> last<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                <span class="token comment">// 如果是单个VLAN，直接添加</span>
                <span class="token keyword">char</span> temp<span class="token punctuation">[</span><span class="token number">20</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
                <span class="token function">sprintf</span><span class="token punctuation">(</span>temp<span class="token punctuation">,</span> <span class="token string">"%d,"</span><span class="token punctuation">,</span> start<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token function">strcat</span><span class="token punctuation">(</span>result<span class="token punctuation">,</span> temp<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
                <span class="token comment">// 否则为范围，添加"start-end"格式</span>
                <span class="token keyword">char</span> temp<span class="token punctuation">[</span><span class="token number">40</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
                <span class="token function">sprintf</span><span class="token punctuation">(</span>temp<span class="token punctuation">,</span> <span class="token string">"%d-%d,"</span><span class="token punctuation">,</span> start<span class="token punctuation">,</span> last<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token function">strcat</span><span class="token punctuation">(</span>result<span class="token punctuation">,</span> temp<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token comment">// 处理下一个VLAN范围</span>
            start <span class="token operator">=</span> vlanPool<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
            last <span class="token operator">=</span> vlanPool<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    
    <span class="token comment">// 处理最后一个范围或VLAN</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>start <span class="token operator">==</span> last<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">char</span> temp<span class="token punctuation">[</span><span class="token number">20</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token function">sprintf</span><span class="token punctuation">(</span>temp<span class="token punctuation">,</span> <span class="token string">"%d"</span><span class="token punctuation">,</span> start<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">strcat</span><span class="token punctuation">(</span>result<span class="token punctuation">,</span> temp<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">char</span> temp<span class="token punctuation">[</span><span class="token number">40</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token function">sprintf</span><span class="token punctuation">(</span>temp<span class="token punctuation">,</span> <span class="token string">"%d-%d"</span><span class="token punctuation">,</span> start<span class="token punctuation">,</span> last<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">strcat</span><span class="token punctuation">(</span>result<span class="token punctuation">,</span> temp<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 去除最后的逗号</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>result<span class="token punctuation">[</span><span class="token function">strlen</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token char">','</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        result<span class="token punctuation">[</span><span class="token function">strlen</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token char">'\0'</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p><img src="https://img-blog.csdnimg.cn/img_convert/b98429f56d7b21e9abb6e238d4c69d08.png" alt="fengmian"></p> 
<h4><a id="_614"></a>完整用例</h4> 
<h5><a id="1_615"></a>用例1</h5> 
<pre><code>1-5
2
</code></pre> 
<h5><a id="2_620"></a>用例2</h5> 
<pre><code>20-21,15,18,30,5-10
15

</code></pre> 
<h5><a id="3_627"></a>用例3</h5> 
<pre><code>5,1-3
10
</code></pre> 
<h5><a id="4_632"></a>用例4</h5> 
<pre><code>1-3,5,100,200,300,400,500
1
</code></pre> 
<h5><a id="5_638"></a>用例5</h5> 
<pre><code>1-3,5,100,200,300,400,500
5
</code></pre> 
<h5><a id="6_645"></a>用例6</h5> 
<pre><code>1-3,5,100,200,300,400,500
100
</code></pre> 
<h5><a id="7_650"></a>用例7</h5> 
<pre><code>1-3,5
3
</code></pre> 
<h5><a id="8_655"></a>用例8</h5> 
<pre><code>20-21,15,18,30,5-10
15
</code></pre> 
<h5><a id="9_660"></a>用例9</h5> 
<pre><code>1-3,5,100,200,300,400,500
100
</code></pre> 
<h5><a id="10_665"></a>用例10</h5> 
<pre><code>1-3,5,100,200,300,400,500
200
</code></pre>
                </div>
</body>
</html>
